{"version":3,"sources":["Firebase.js","AlgoliaUpdateSearchIndex.js","components/blog/AdminTools.js","components/navbar/TopNavBar.js","components/navbar/NavLink.js","components/navbar/NavBar.js","components/navbar/DrawerMenu.js","components/gallery/imageSource.js","components/helperFunctions/makeCancelablePromise.js","components/main/MainTitle.js","components/main/Main.js","components/about/About.js","components/gallery/Gallery.js","components/gallery/ModalImages.js","components/gallery/Category.js","components/blog/uploadSource.js","components/blog/WriteComment.js","components/blog/SubComment.js","components/blog/Comment.js","components/blog/CommentSection.js","components/blog/Post.js","Algolia.js","components/blog/Blog.js","components/newsfeed/NewsCard.js","components/newsfeed/NewsFeed.js","components/Errors/Error404.js","App.js","registerServiceWorker.js","index.js"],"names":["firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","firestore","settings","timestampsInSnapshots","client","algoliasearch","ALGOLIA_INDEX_NAME","AdminTools","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","open","title","content","avatarUrl","imageUrl","linkUrl","homepageUrl","date","Timestamp","now","commentsCounter","likes","handleAddPost","bind","assertThisInitialized","handleClickOpen","handleClose","setState","_this$state","post","collection","add","then","postRef","toDate","getTime","objectID","id","initIndex","addObject","err","console","log","AlgoliaUpdateSearchIndex","_this2","classes","react_default","a","createElement","className","root","Button_default","button","aria-label","onClick","Dialog_default","onClose","aria-labelledby","DialogTitle_default","DialogContent_default","TextField_default","autoFocus","margin","label","type","fullWidth","onChange","event","target","value","DialogActions_default","color","React","Component","withStyles","theme","spacing","unit","userName","display","TopNavBar","anchorEl","handleMenu","currentTarget","AppBar_default","position","appbar","Toolbar_default","toolbar","Typography_default","variant","align","logoPart1","logoPart2","UserContext","Consumer","user","role","adminTools","blog_AdminTools","children","compose","flexGrow","boxShadow","backgroundColor","borderBottom","defineProperty","justifyContent","marginTop","breakpoints","down","fontFamily","zIndex","fontSize","marginLeft","top","withWidth","NavLink","_this$props","to","location","buttonName","Route","path","_ref","match","Link","replace","pathname","style","textDecoration","buttons","routerNavLink","withRouter","_buttons","transform","NavBar","rootEl","createRef","barEl","initialPosition","isFixed","handleScroll","current","rootRect","getBoundingClientRect","hasFixedOpenClass","classList","contains","fixedOpen","bottom","window","addEventListener","removeEventListener","ref","classnames","fixed","navbar_NavLink","height","width","opacity","&:hover","transition","marginRight","minHeight","padding","DrawerMenu","toggleDrawer","side","fullList","List_default","Fragment","menuButton","Drawer_default","anchor","tabIndex","onKeyDown","flexDirection","alignItems","minWidth","imageSource","Promise","resolve","reject","images","get","snapshot","empty","forEach","doc","image","data","push","name","url","thumbUrl","category","description","makeCancelable","promise","hasCanceled_","val","isCanceled","error","cancel","MainTitle","fetchImages","makeCancelablePromise","showImage","loading","handleOnLoad","randomImage","Math","floor","random","length","catch","reason","Paper_default","paper","CircularProgress_default","Fade_default","in","timeout","enter","exit","backgroundImage","concat","src","alt","onLoad","_paper","Grid_default","container","justify","item","xs","main_MainTitle","alignContent","borderRadius","bigAvatar","Slide_default","direction","mountOnEnter","unmountOnExit","Avatar_default","index_es","Gallery","fetchImageCategories","exists","categories","categoriesData","checked","fade","categoriesContainer","map","index","Grow_default","assign","key","toLowerCase","transformOrigin","links","_links","marginBottom","ModalImages","touchStart","touchMoveDistance","clientX","offset","handleLeft","handleRight","handleKeyDown","handleOnTouchStart","handleOnTouchEnd","handleOnTouchMove","e","targetTouches","pixels","touchEnd","changedTouches","distance","abs","_this$props2","_this$props3","openModal","Modal_default","params","aria-describedby","left","md","Hidden_default","only","caption","paragraph","exitButton","float","imageContainer","onTouchStart","onTouchEnd","onTouchMove","_imageContainer","boxSizing","right","maxWidth","maxHeight","Category","where","imagesData","_doc$data","handleOpen","Number","dataset","prevProps","hasOwnProperty","setImageSource","_this3","gutterBottom","lg","gridItem","Card_default","card","about","CardMedia_default","media","data-index","gallery_ModalImages","paddingTop","textTransform","cardContent","uploadComment","comment","db","commentRef","postId","runTransaction","t","newCommentsCounter","update","result","WriteComment","commentField","publishComment","userId","googleId","CardHeader_default","header","avatar","textField","multiline","rows","SubComment","subcomment","subheader","CardContent_default","component","borderLeft","Comment","expanded","handleExpandClick","sendSubcomment","commentId","subcomments","filteredSubcomments","filter","el","titleTypographyProps","subheaderTypographyProps","CardActions_default","disableActionSpacing","IconButton_default","expand","expandOpen","aria-expanded","ExpandMore_default","Collapse_default","blog_SubComment","subcommentId","dense","paddingLeft","transitions","create","duration","shortest","up","CommentSection","comments","unsubscribeComments","orderBy","onSnapshot","_comment$data","toDateString","toLocaleTimeString","unsubscribeSubcomments","_subcomment$data","blog_Comment","Post","isLikeRecieved","isLikePending","isLiked","chat","changeLikeColor","handleCommentClick","addToLiked","mediaOnLoad","unsubscribeBlog","unsubscribeUserLiked","userLike","docs","undefined","_this4","vote","newLikes","userLiked","liked","Date","titleCard","rel","href","actions","Favorite_default","favourite","unfavourite","Comment_default","blog_CommentSection","blog_WriteComment","borderTop","fontWeight","overflow","boxOrient","textOverflow","lineClamp","Algolia","query","search","hitsPerPage","Blog","AlgoliaResults","posts","handleOnSearchChange","searchValue","hits","titleContainer","articleContainer","articlesTitle","grid","sm","LazyLoad_default","lazyLoad","offsetVertical","blog_Post","_textField","_articlesTitle","_articleContainer","_posts","NewsCard","article","publishedAt","toLocaleDateString","day","month","year","urlToImage","author","size","objectFit","NewsFeed","cancelableNews","fetchNews","newsFeed_first","newsFeed_part1","newsFeed_part2","newsFeed_part3","req","Request","fetch","response","json","articles","colLength","slice","newsfeed_NewsCard","Error404","Zoom_default","createContext","createMuiTheme","palette","primary","grey","secondary","blueGrey","typography","useNextVariants","App","responseGoogle","res","googleUser","email","familyName","givenName","users","userObj","setUser","profileObj","logout","core_styles","BrowserRouter","Provider","navbar_TopNavBar","google_login","GoogleLogout","tag","buttonText","onLogoutSuccess","GoogleLogin","clientId","uxMode","onSuccess","onFailure","isSignedIn","navbar_NavBar","navbar_DrawerMenu","Switch","exact","Main","About","render","Errors_Error404","border","isLocalhost","Boolean","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","ReactDOM","src_App","document","getElementById","URL","origin","status","headers","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.5a1fb14c.chunk.js","sourcesContent":["import firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\n\r\n// Initialize Firebase\r\nvar config = {\r\n  apiKey: process.env.REACT_APP_GOOGLE_apiKey,\r\n  authDomain: process.env.REACT_APP_GOOGLE_authDomain,\r\n  databaseURL: process.env.REACT_APP_GOOGLE_databaseURL,\r\n  projectId: process.env.REACT_APP_GOOGLE_projectId,\r\n  storageBucket: process.env.REACT_APP_GOOGLE_storageBucket,\r\n  messagingSenderId: process.env.REACT_APP_GOOGLE_messagingSenderId\r\n};\r\nfirebase.initializeApp(config);\r\n\r\nconst firestore = firebase.firestore();\r\nconst settings = { timestampsInSnapshots: true };\r\nfirestore.settings(settings);\r\n\r\nexport { firebase };","import algoliasearch from 'algoliasearch';\r\n\r\nconst ALGOLIA_ID = process.env.REACT_APP_ALGOLIA_appId;\r\nconst ALGOLIA_ADMIN_KEY = process.env.REACT_APP_ALGOLIA_adminApiKey;\r\n\r\nconst client = algoliasearch(ALGOLIA_ID, ALGOLIA_ADMIN_KEY);\r\nconst ALGOLIA_INDEX_NAME = 'blog_posts';\r\n\r\n// Update the search index.\r\nfunction AlgoliaUpdateSearchIndex(post) {\r\n\t\t// Write to the algolia index\r\n\t\tconst index = client.initIndex(ALGOLIA_INDEX_NAME);\r\n\t\treturn index.addObject(post, function(err, content) {\r\n\t\t\tif (err) console.log(err);\r\n\t\t\tconsole.log(content);\r\n\t\t  });\r\n}\r\n\r\nexport { AlgoliaUpdateSearchIndex };","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { firebase } from '../../Firebase';\r\nimport { AlgoliaUpdateSearchIndex } from '../../AlgoliaUpdateSearchIndex'\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nconst styles = theme => ({\r\n  button: {\r\n    margin: theme.spacing.unit,\r\n    color: 'grey'\r\n  },\r\n  userName: {\r\n    display: 'inline'\r\n  }\r\n});\r\n\r\nclass AdminTools extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      open: false,\r\n      title: '',\r\n      content: '',\r\n      avatarUrl: '',\r\n      imageUrl: '',\r\n      linkUrl: '',\r\n      homepageUrl: '',\r\n      date: firebase.firestore.Timestamp.now(),\r\n      commentsCounter: 0,\r\n      likes: 0\r\n    };\r\n    this.handleAddPost = this.handleAddPost.bind(this);\r\n    this.handleClickOpen = this.handleClickOpen.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n  }\r\n\r\n  handleClickOpen() {\r\n    this.setState({ open: true });\r\n  };\r\n\r\n  handleClose() {\r\n    this.setState({ open: false });\r\n  };\r\n\r\n  handleAddPost() {\r\n    const { title, content, avatarUrl, imageUrl, linkUrl, homepageUrl, date, commentsCounter } = this.state;\r\n    let post = { title, content, avatarUrl, imageUrl, linkUrl, homepageUrl, date, commentsCounter };\r\n\r\n    const blog = firebase.firestore().collection('blog');\r\n    blog.add(post).then((postRef) => {\r\n      delete post.commentsCounter;\r\n      delete post.likes;\r\n      post.date = post.date.toDate().getTime();\r\n      post.objectID = postRef.id;\r\n      \r\n      AlgoliaUpdateSearchIndex(post);\r\n    });\r\n\r\n    this.setState({ open: false });\r\n  };\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        {/* <Typography variant=\"body1\" className={classes.userName}>\r\n          Hello admin!\r\n        </Typography> */}\r\n        <Button className={classes.button} aria-label=\"Add post\" onClick={this.handleClickOpen}>\r\n          <i className=\"material-icons\">\r\n            library_add\r\n          </i>\r\n        </Button>\r\n        <Dialog\r\n          open={this.state.open}\r\n          onClose={this.handleClose}\r\n          aria-labelledby=\"form-dialog-title\"\r\n        >\r\n          <DialogTitle id=\"form-dialog-title\">Article:</DialogTitle>\r\n          <DialogContent>\r\n            <TextField\r\n              autoFocus\r\n              margin=\"dense\"\r\n              id=\"name\"\r\n              label=\"title\"\r\n              type=\"string\"\r\n              fullWidth\r\n              onChange={event => this.setState({ title: event.target.value })}\r\n            />\r\n            <TextField\r\n              margin=\"dense\"\r\n              id=\"name\"\r\n              label=\"content\"\r\n              type=\"string\"\r\n              fullWidth\r\n              onChange={event => this.setState({ content: event.target.value })}\r\n            />\r\n            <TextField\r\n              margin=\"dense\"\r\n              id=\"name\"\r\n              label=\"avatarUrl\"\r\n              type=\"url\"\r\n              fullWidth\r\n              onChange={event => this.setState({ avatarUrl: event.target.value })}\r\n            />\r\n            <TextField\r\n              margin=\"dense\"\r\n              id=\"name\"\r\n              label=\"imageUrl\"\r\n              type=\"url\"\r\n              fullWidth\r\n              onChange={event => this.setState({ imageUrl: event.target.value })}\r\n            />\r\n            <TextField\r\n              margin=\"dense\"\r\n              id=\"name\"\r\n              label=\"linkUrl\"\r\n              type=\"url\"\r\n              fullWidth\r\n              onChange={event => this.setState({ linkUrl: event.target.value })}\r\n            />\r\n            <TextField\r\n              margin=\"dense\"\r\n              id=\"name\"\r\n              label=\"homepageUrl\"\r\n              type=\"url\"\r\n              fullWidth\r\n              onChange={event => this.setState({ homepageUrl: event.target.value })}\r\n            />\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.handleClose} color=\"primary\">\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={this.handleAddPost} color=\"primary\">\r\n              Publish\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nAdminTools.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(AdminTools);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport compose from 'recompose/compose';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport withWidth from '@material-ui/core/withWidth';\r\nimport AdminTools from '../blog/AdminTools';\r\nimport { UserContext } from '../../App';\r\n\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  appbar: {\r\n    boxShadow: 'none',\r\n    backgroundColor: 'white',\r\n    borderBottom: '1px #dbdbdb solid'\r\n  },\r\n  toolbar: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    marginTop: -7,\r\n    [theme.breakpoints.down('xs')]: {\r\n      justifyContent: 'left',\r\n    }\r\n  },\r\n  logoPart1: {\r\n    color: 'black',\r\n    fontFamily: 'Great Vibes, cursive',\r\n    position: 'relative',\r\n    zIndex: 1300,\r\n    [theme.breakpoints.down('xs')]: {\r\n      fontSize: 20,\r\n    },\r\n  },\r\n  logoPart2: {\r\n    color: 'grey',\r\n    fontFamily: 'Abril Fatface, cursive',\r\n    marginLeft: -68,\r\n    marginTop: 27,\r\n    position: 'relative',\r\n    zIndex: 1200,\r\n    [theme.breakpoints.down('xs')]: {\r\n      fontSize: 20,\r\n    }\r\n  },\r\n  adminTools: {\r\n    position: 'absolute',\r\n    top: 3,\r\n    marginLeft: '25%',\r\n    [theme.breakpoints.down('xs')]: {\r\n      marginLeft: '57.5%',\r\n    },\r\n  }\r\n});\r\n\r\nclass TopNavBar extends React.Component {\r\n  state = {\r\n    anchorEl: null,\r\n  };\r\n\r\n  handleMenu = event => {\r\n    this.setState({ anchorEl: event.currentTarget });\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ anchorEl: null });\r\n  };\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <div className={classes.root} >\r\n        <AppBar position=\"static\" className={classes.appbar}>\r\n          <Toolbar className={classes.toolbar}>\r\n            <Typography variant=\"h4\" align=\"center\" className={classes.logoPart1}>\r\n              AAndonov\r\n              </Typography>\r\n            <Typography variant=\"h5\" align=\"center\" className={classes.logoPart2}>\r\n              Photography\r\n              </Typography>\r\n            <UserContext.Consumer>\r\n              {user => user && user.role === 'admin' ?\r\n                <div className={classes.adminTools}>\r\n                  <AdminTools />\r\n                </div> : null}\r\n            </UserContext.Consumer>\r\n            {this.props.children}\r\n          </Toolbar>\r\n        </AppBar>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nTopNavBar.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  width: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withWidth()\r\n)(TopNavBar);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Route, Link, withRouter } from 'react-router-dom';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst styles = theme => ({\r\n  buttons: {\r\n    [theme.breakpoints.down('xs')]: {\r\n      color: 'white',\r\n    },\r\n    fontSize: 15,\r\n    color: 'grey',\r\n    fontFamily: 'Pompiere, cursive',\r\n    transition: 'transform .3s ease-in-out',\r\n    '&:hover': {\r\n      backgroundColor: 'rgb(242, 242, 242, 0)',\r\n      transform: 'scale(1.5)',\r\n    },\r\n  },\r\n});\r\n\r\nclass NavLink extends React.Component {\r\n  render() {\r\n    const { classes, to, location, buttonName } = this.props;\r\n    return (\r\n      <Route path={to} children={({ match }) => \r\n        <Link type=\"button\" replace={match === location.pathname} to={to} style={{textDecoration: \"none\"}}>\r\n          <Button className={classes.buttons}>{buttonName}</Button>\r\n        </Link>\r\n      }/>\r\n    )\r\n  }\r\n}\r\n\r\nNavLink.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\nconst routerNavLink = withRouter(NavLink);\r\n\r\nexport default withStyles(styles)(routerNavLink);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport compose from 'recompose/compose';\r\n\r\nimport classnames from 'classnames';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport withWidth from '@material-ui/core/withWidth';\r\n\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\n\r\nimport NavLink from './NavLink';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    height: 45\r\n  },\r\n  fixed: {\r\n    top: -45,\r\n  },\r\n  fixedOpen: {\r\n    position: 'fixed',\r\n    width: '100%',\r\n    opacity: .7,\r\n    zIndex: 1,\r\n    '&:hover': {\r\n      opacity: 1,\r\n    },\r\n    transition: 'all .4s ease-in-out',\r\n    top: 0,\r\n  },\r\n  appbar: {\r\n    boxShadow: 'none',\r\n    backgroundColor: 'white',\r\n  },\r\n  toolbar: {\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n    minHeight: 45,\r\n    height: 45,\r\n    padding: 0\r\n  },\r\n});\r\n\r\nclass NavBar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.rootEl = React.createRef();\r\n    this.barEl = React.createRef();\r\n    this.initialPosition = {};\r\n\r\n    this.state = {\r\n      isFixed: false,\r\n    }\r\n    this.handleScroll = this.handleScroll.bind(this);\r\n  }\r\n\r\n  handleScroll() {\r\n    const rootEl = this.rootEl.current;\r\n    const barEl = this.barEl.current;\r\n\r\n    const rootRect = rootEl.getBoundingClientRect();\r\n    const hasFixedOpenClass = barEl.classList.contains(this.props.classes.fixedOpen);\r\n    \r\n    if (!hasFixedOpenClass && rootRect.bottom <= 0) {\r\n      this.setState({\r\n        isFixed: true\r\n      });\r\n    } else if (hasFixedOpenClass && rootRect.bottom >= this.initialPosition.top) {\r\n      this.setState({\r\n        isFixed: false\r\n      });\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const rootEl = this.rootEl.current;\r\n    this.initialPosition = rootEl.getBoundingClientRect();\r\n    \r\n    window.addEventListener('scroll', this.handleScroll);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('scroll', this.handleScroll);\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    const { isFixed } = this.state;\r\n\r\n    return (\r\n      <div className={classes.root} ref={this.rootEl}>\r\n        <div className={classnames(classes.fixed, { [classes.fixedOpen]: isFixed })} ref={this.barEl}>\r\n          <AppBar position=\"static\" className={classes.appbar}>\r\n            <Toolbar className={classes.toolbar}>\r\n              <NavLink to=\"/main\" buttonName=\"Home\" />\r\n              <NavLink to=\"/gallery\" buttonName=\"Gallery\" />\r\n              <NavLink to=\"/blog\" buttonName=\"Blog\" />\r\n              <NavLink to=\"/newsfeed\" buttonName=\"News Feed\" />\r\n              <NavLink to=\"/about\" buttonName=\"About\" />\r\n            </Toolbar>\r\n          </AppBar>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nNavBar.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  width: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withWidth()\r\n)(NavBar);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport Button from '@material-ui/core/Button';\r\nimport List from '@material-ui/core/List';\r\n\r\nimport NavLink from './NavLink';\r\n\r\nconst styles = {\r\n  fullList: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    minWidth: 200,\r\n    backgroundColor: 'grey',\r\n  },  \r\n  menuButton: {\r\n    minWidth: 60\r\n  },\r\n};\r\n\r\nclass DrawerMenu extends React.Component {\r\n  state = {\r\n    top: false\r\n  };\r\n\r\n  toggleDrawer = (side, open) => () => {\r\n    this.setState({\r\n      [side]: open,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n\r\n    const fullList = (\r\n      <List className={classes.fullList}>\r\n        <NavLink to=\"/main\" buttonName=\"Home\" />\r\n        <NavLink to=\"/gallery\" buttonName=\"Gallery\" />\r\n        <NavLink to=\"/blog\" buttonName=\"Blog\" />\r\n        <NavLink to=\"/newsfeed\" buttonName=\"News Feed\" />\r\n        <NavLink to=\"/about\" buttonName=\"About\" />\r\n      </List>\r\n    );\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <Button className={classes.menuButton} onClick={this.toggleDrawer('top', true)}>\r\n          <i className=\"material-icons\" style={{ color: 'grey' }}>menu</i>\r\n        </Button>\r\n        <Drawer anchor=\"top\" open={this.state.top} onClose={this.toggleDrawer('top', false)}>\r\n          <div\r\n            tabIndex={0}\r\n            role=\"button\"\r\n            onClick={this.toggleDrawer('top', false)}\r\n            onKeyDown={this.toggleDrawer('top', false)}\r\n          >\r\n            {fullList}\r\n          </div>\r\n        </Drawer>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nDrawerMenu.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(DrawerMenu);\r\n","import { firebase } from '../../Firebase';\r\n\r\nfunction imageSource() {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tlet images = [];\r\n\r\n\t\tconst db = firebase.firestore();\r\n\t\tdb.collection('images').get().then((snapshot) => {\r\n\t\t\tif (snapshot.empty) {\r\n\t\t\t\treject('Firestore: Snapshot is empty');\r\n\t\t\t}\r\n\t\t\tsnapshot.forEach((doc) => {\r\n\t\t\t\tconst image = doc.data();\r\n\t\t\t\timages.push({\r\n\t\t\t\t\tid: image.id,\r\n\t\t\t\t\tname: image.name,\r\n\t\t\t\t\turl: image.url,\r\n\t\t\t\t\tthumbUrl: image.thumbUrl,\r\n\t\t\t\t\tcategory: image.category,\r\n\t\t\t\t\tdescription: image.description\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tresolve(images);\r\n\t\t});\r\n\t});\r\n}\r\n\r\nexport default imageSource;\r\n","const makeCancelable = (promise) => {\r\n\tlet hasCanceled_ = false;\r\n\r\n\tconst wrappedPromise = new Promise((resolve, reject) => {\r\n\t\tpromise.then(\r\n\t\t\tval => hasCanceled_ ? reject({ isCanceled: true }) : resolve(val),\r\n\t\t\terror => hasCanceled_ ? reject({ isCanceled: true }) : reject(error)\r\n\t\t);\r\n\t});\r\n\r\n\treturn {\r\n\t\tpromise: wrappedPromise,\r\n\t\tcancel() {\r\n\t\t\thasCanceled_ = true;\r\n\t\t},\r\n\t};\r\n};\r\n\r\nexport default makeCancelable;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport classnames from 'classnames';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport imageSource from '../gallery/imageSource';\r\nimport makeCancelablePromise from '../helperFunctions/makeCancelablePromise';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'center',\r\n    alignItems: 'center'\r\n  },\r\n  paper: {\r\n    [theme.breakpoints.down('sm')]: {\r\n      height: 'calc(100vh - 45px)',\r\n    },\r\n    width: '100%',\r\n    height: 'calc(100vh - 85px)',\r\n    backgroundPosition: 'center',\r\n    backgroundRepeat: 'no-repeat',\r\n    backgroundSize: 'cover',\r\n    color: 'grey',\r\n    boxShadow: 'none',\r\n    borderRadius: '0px'\r\n  }\r\n});\r\n\r\nclass MainTitle extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      imageUrl: '',\r\n      showImage: false,\r\n      loading: true\r\n    };\r\n    this.handleOnLoad = this.handleOnLoad.bind(this);\r\n  }\r\n\r\n  handleOnLoad() {\r\n    this.setState({\r\n      showImage: true,\r\n      loading: false\r\n    });\r\n  }\r\n\r\n  fetchImages = makeCancelablePromise(imageSource());\r\n\r\n  componentDidMount() {\r\n    this.fetchImages\r\n      .promise\r\n      .then((images) => {\r\n        const randomImage = images[Math.floor(Math.random() * images.length)];\r\n        this.setState({\r\n          imageUrl: randomImage.url\r\n        });\r\n      })\r\n      .catch((reason) => console.log('isCanceled', reason.isCanceled));\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.fetchImages.cancel(); // Cancel the promise\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    const { imageUrl, showImage, loading } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        {loading ?\r\n          <Paper className={classnames(classes.root, classes.paper)}>\r\n            <CircularProgress />\r\n          </Paper> : null}\r\n        <Fade\r\n          in={showImage}\r\n          timeout={{ enter: 2000, exit: 0 }}\r\n        >\r\n          <Paper className={classes.paper} style={{ backgroundImage: `url(${imageUrl})` }}>\r\n            <img src={imageUrl} alt=\"Flowers\" onLoad={this.handleOnLoad} style={{ display: 'none' }} />\r\n          </Paper>\r\n        </Fade>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nMainTitle.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(MainTitle);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nimport MainTitle from './MainTitle';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    flexGrow: 1\r\n  }\r\n});\r\n\r\nfunction Main(props) {\r\n  const { classes } = props;\r\n  return (\r\n    <div className={classes.root}>\r\n      <Grid container spacing={0} justify=\"center\">\r\n        <Grid item xs={12}>\r\n          <MainTitle />\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n)}\r\n\r\nMain.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(Main);\r\n","import React from 'react';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { Typography } from '@material-ui/core';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Slide from '@material-ui/core/Slide';\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    height: '75vh'\r\n  },\r\n  paper: {\r\n    display: 'flex',\r\n    alignContent: 'flex-around',\r\n    width: 500,\r\n    height: '90%',\r\n    marginTop: '2%',\r\n    padding: 30,\r\n    borderRadius: 6\r\n  },\r\n  bigAvatar: {\r\n    width: 90,\r\n    height: 90,\r\n  },\r\n  content: {\r\n    padding: 20,\r\n\r\n  }\r\n});\r\n\r\nfunction About(props) {\r\n  const { classes } = props;\r\n\r\n  return (\r\n    <Fade in={true} timeout={{ enter: 400, exit: 0 }}>\r\n      <div className={classes.root}>\r\n        <Paper className={classes.paper}>\r\n          <Slide timeout={500} direction=\"down\" in={true} mountOnEnter unmountOnExit>\r\n            <Avatar src={\"https://lh6.googleusercontent.com/-wM6v0CfGZuc/AAAAAAAAAAI/AAAAAAAADeE/jK_FHbyfNdE/s96-c/photo.jpg\"}\r\n              aria-label=\"Avatar\" className={classes.bigAvatar}>\r\n            </Avatar>\r\n          </Slide>\r\n          <Typography className={classes.content} variant=\"h6\" color='primary'>\r\n            Hello, it's under construction yet. :)\r\n          </Typography>\r\n        </Paper>\r\n      </div>\r\n    </Fade>\r\n  );\r\n}\r\n\r\nexport default withStyles(styles)(About);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport { firebase } from '../../Firebase';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grow from '@material-ui/core/Grow';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { Typography } from '@material-ui/core';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport Slide from '@material-ui/core/Slide';\r\n\r\nimport makeCancelablePromise from '../helperFunctions/makeCancelablePromise';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    backgroundColor: 'white',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    padding: '1%'\r\n  },\r\n  paper: {\r\n    width: 450,\r\n    padding: '4% 0% 4% 0%',\r\n    marginTop: '2%',\r\n    [theme.breakpoints.down('sm')]: {\r\n      width: '65%',\r\n      marginTop: '5%',\r\n      padding: '7% 0% 3% 0%',\r\n      borderRadius: '20px',\r\n    },\r\n    [theme.breakpoints.down('xs')]: {\r\n      width: '100%',\r\n      marginTop: '5%',\r\n      padding: '7% 0% 3% 0%',\r\n      borderRadius: '20px',\r\n    },\r\n    backgroundColor: 'white',\r\n    border: '1px #dbdbdb solid',\r\n    borderRadius: '30px',\r\n    boxShadow: 'none',\r\n  },\r\n  categoriesContainer: {\r\n    flexDirection: 'column',\r\n  },\r\n  links: {\r\n    marginBottom: '1.5em',\r\n    [theme.breakpoints.down('sm')]: {\r\n      marginBottom: '1.1em',\r\n    },\r\n    [theme.breakpoints.down('xs')]: {\r\n      marginBottom: '.7em',\r\n    },\r\n    '&:hover': {\r\n      color: 'black',\r\n    },\r\n    fontFamily: 'Fredericka the Great, cursive',\r\n    fontSize: 26\r\n  }\r\n});\r\n\r\nclass Gallery extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      categoriesData: [],\r\n      checked: false,\r\n      fade: false\r\n    };\r\n  }\r\n\r\n  fetchImageCategories = makeCancelablePromise(new Promise((resolve, reject) => {\r\n    const db = firebase.firestore();\r\n    db.collection('images').doc('categories').get().then((doc) => {\r\n      if (!doc.exists) reject('Doc doesn\\'t exist');\r\n      resolve(doc.data().categories);\r\n    });\r\n  }));\r\n\r\n  componentDidMount() {\r\n    this.fetchImageCategories\r\n      .promise\r\n      .then((categories) => {\r\n        this.setState({\r\n          categoriesData: categories,\r\n          checked: true,\r\n          fade: true\r\n        });\r\n      })\r\n      .catch((reason) => console.log('isCanceled', reason.isCanceled));\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.fetchImageCategories.cancel(); // Cancel the promise\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    const { checked, fade } = this.state;\r\n\r\n    return (\r\n      <Slide timeout={500} direction=\"up\" in={fade} mountOnEnter unmountOnExit>\r\n        <div className={classes.root}>\r\n          <Fade in={fade} timeout={{ enter: 400, exit: 0 }}>\r\n            <Paper className={classes.paper}>\r\n              <Grid container spacing={8} className={classes.categoriesContainer}>\r\n                {this.state.categoriesData.map((data, index) => {\r\n                  return (\r\n                    <Grow\r\n                      key={data.category.toLowerCase()}\r\n                      in={checked}\r\n                      style={{ transformOrigin: '0 0 0' }}\r\n                      {...(checked ? { timeout: (index + 1) * 500 } : {})}\r\n                    >\r\n                      <Link to={`/category/${data.category.toLowerCase()}`} style={{ textDecoration: \"none\" }}>\r\n                        <Typography className={classes.links} variant=\"h4\" align=\"center\">\r\n                          {data.category}\r\n                        </Typography>\r\n                      </Link>\r\n                    </Grow>\r\n                  )\r\n                })}\r\n              </Grid>\r\n            </Paper>\r\n          </Fade>\r\n        </div>\r\n      </Slide>\r\n    )\r\n  }\r\n}\r\n\r\nGallery.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(Gallery);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport { Typography } from '@material-ui/core';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nfunction getModalStyle() {\r\n  const top = 0;\r\n  const left = 0;\r\n\r\n  return {\r\n    top: `${top}%`,\r\n    left: `${left}%`,\r\n    transform: `translate(-${top}%, -${left}%)`,\r\n  };\r\n}\r\n\r\nconst styles = theme => ({\r\n  paper: {\r\n    boxSizing: 'border-box',\r\n    position: 'absolute',\r\n    height: '100vh',\r\n    width: '100vw',\r\n    backgroundColor: 'black',\r\n  },\r\n  imageContainer: {\r\n    position: 'relative',\r\n    height: '86vh',\r\n    [theme.breakpoints.down('lg')]: {\r\n      height: '85vh',\r\n    },\r\n    [theme.breakpoints.down('md')]: {\r\n      height: '70vh',\r\n    },\r\n    [theme.breakpoints.down('sm')]: {\r\n      height: '100vh',\r\n    },\r\n    [theme.breakpoints.down('xs')]: {\r\n      height: '45vh',\r\n    },\r\n  },\r\n  image: {\r\n    position: 'absolute',\r\n    margin: 'auto',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    maxWidth: '100%',\r\n    maxHeight: '100%',\r\n    transition: 'opacity .4s ease-in-out',\r\n  },\r\n  caption: {\r\n    backgroundColor: 'black',\r\n    margin: '4vw 0vw 1vw 1vw',\r\n  },\r\n  exitButton: {\r\n    float: 'right'\r\n  }\r\n});\r\n\r\nclass ModalImages extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.touchStart = 0;\r\n    this.touchMoveDistance = 50;\r\n\r\n    this.state = {\r\n      clientX: 0,\r\n      showImage: false,\r\n      offset: 0\r\n    };\r\n\r\n    this.handleLeft = this.handleLeft.bind(this);\r\n    this.handleRight = this.handleRight.bind(this);\r\n    this.handleKeyDown = this.handleKeyDown.bind(this);\r\n    this.handleOnTouchStart = this.handleOnTouchStart.bind(this);\r\n    this.handleOnTouchEnd = this.handleOnTouchEnd.bind(this);\r\n    this.handleOnTouchMove = this.handleOnTouchMove.bind(this);\r\n    this.handleOnLoad = this.handleOnLoad.bind(this);\r\n  }\r\n\r\n  handleOnLoad() {\r\n    this.setState({\r\n      clientX: 0,\r\n      showImage: true\r\n    });\r\n  }\r\n\r\n  handleOnTouchStart(e) {\r\n    this.touchStart = e.targetTouches['0'].clientX;\r\n  }\r\n\r\n  handleOnTouchMove(e) {\r\n    const pixels = e.targetTouches['0'].clientX - this.touchStart;\r\n    this.setState({\r\n      clientX: pixels\r\n    });\r\n  }\r\n\r\n  handleOnTouchEnd(e) {\r\n    const { index, images } = this.props;\r\n    const { offset } = this.state;\r\n    const touchEnd = e.changedTouches['0'].clientX;\r\n\r\n    const distance = Math.abs(this.touchStart - touchEnd);\r\n    if (index + offset === 0 || index + offset === images.length - 1 || distance < this.touchMoveDistance) {\r\n      this.setState({\r\n        clientX: 0\r\n      });\r\n    }\r\n\r\n    if (touchEnd > this.touchStart + this.touchMoveDistance) {\r\n      this.handleLeft();\r\n    } else if (touchEnd < this.touchStart - this.touchMoveDistance) {\r\n      this.handleRight();\r\n    }\r\n  }\r\n\r\n\r\n  handleKeyDown(e) {\r\n    if (e.key === 'ArrowLeft') {\r\n      this.handleLeft();\r\n    } else if (e.key === 'ArrowRight') {\r\n      this.handleRight();\r\n    } else if (e.key === 'Escape') {\r\n      this.props.handleClose();\r\n    }\r\n  }\r\n\r\n  handleLeft() {\r\n    const { index } = this.props;\r\n    const { offset } = this.state;\r\n\r\n    if (index + offset === 0) return;\r\n    this.setState({\r\n      offset: offset - 1,\r\n      showImage: false\r\n    });\r\n  };\r\n\r\n  handleRight() {\r\n    const { index, images } = this.props;\r\n    const { offset } = this.state;\r\n\r\n    if (index + offset === images.length - 1) return;\r\n    this.setState({\r\n      offset: offset + 1,\r\n      showImage: false\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { clientX, showImage, offset } = this.state;\r\n    const { classes, openModal, match, images, index, handleClose } = this.props;\r\n\r\n    return (\r\n      <Modal\r\n        aria-labelledby={match.params.category}\r\n        aria-describedby='images'\r\n        open={openModal}\r\n        onKeyDown={this.handleKeyDown}\r\n      >\r\n        <div className={classes.paper} style={getModalStyle()}>\r\n          <Grid container spacing={0}>\r\n            <Grid item xs={12} md={2}>\r\n              <Hidden only={['sm']}>\r\n                <Paper className={classes.caption}>\r\n                  <Typography variant=\"h5\" color=\"primary\" paragraph={true}>Kitty abyssinian mouser</Typography>\r\n                  <Typography variant=\"body1\" color=\"primary\">Cat ipsum dolor sit amet, scottish fold. Kitty turkish angora so balinese . American shorthair savannah so tom or siberian yet birman yet persian ocelot. Burmese puma devonshire rex. Puma ocicat and american bobtail kitty yet lynx. Himalayan. Ocelot munchkin abyssinian . Bobcat ocelot. Lynx kitty malkin. Kitten puma havana brown.</Typography>\r\n                </Paper>\r\n              </Hidden>\r\n            </Grid>\r\n            <Grid item xs={12} md={10}>\r\n              <Grid container spacing={0} alignItems=\"center\">\r\n                <Grid item xs={12}>\r\n                  <Hidden only={['sm']}>\r\n                    <Button className={classes.exitButton} color=\"primary\" onClick={handleClose}>\r\n                      <Typography variant=\"button\" color=\"primary\" style={{ fontSize: 24 }}>x</Typography>\r\n                    </Button>\r\n                  </Hidden>\r\n                </Grid>\r\n                <Grid item xs={12} md={1}>\r\n                  <Hidden only={['xs', 'sm']}>\r\n                    <div style={{ float: \"right\" }}>\r\n                      <Button color=\"primary\" onClick={this.handleLeft}>\r\n                        <i className=\"material-icons\" style={{ color: 'grey', fontSize: 48, float: 'right' }}>\r\n                          chevron_left\r\n                        </i>\r\n                      </Button>\r\n                    </div>\r\n                  </Hidden>\r\n                </Grid>\r\n                <Grid item xs={12} md={10}>\r\n                  <div className={classes.imageContainer}>\r\n                    <img\r\n                      className={classes.image}\r\n                      src={images[index + offset].url}\r\n                      alt={images[index + offset].name}\r\n                      onTouchStart={this.handleOnTouchStart}\r\n                      onTouchEnd={this.handleOnTouchEnd}\r\n                      onTouchMove={this.handleOnTouchMove}\r\n                      onLoad={this.handleOnLoad}\r\n                      style={showImage ? {\r\n                        left: clientX,\r\n                        opacity: 1\r\n                      } : {\r\n                        left: clientX,\r\n                        opacity: 0\r\n                      }} />\r\n                  </div>\r\n                </Grid>\r\n                <Grid item xs={12} md={1}>\r\n                  <Hidden only={['xs', 'sm']}>\r\n                    <Button color=\"primary\" onClick={this.handleRight}>\r\n                      <i className=\"material-icons\" style={{ color: 'grey', fontSize: 48 }}>\r\n                        chevron_right\r\n                        </i>\r\n                    </Button>\r\n                  </Hidden>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <Hidden only={['sm']}>\r\n                    <Typography align=\"center\" color=\"primary\" style={{ fontSize: 16 }}>\r\n                      {`${index + offset + 1} / ${images.length}`}\r\n                    </Typography>\r\n                  </Hidden>\r\n                </Grid>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </div>\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nModalImages.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(ModalImages);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { firebase } from '../../Firebase';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport { Typography } from '@material-ui/core';\r\n\r\nimport makeCancelablePromise from '../helperFunctions/makeCancelablePromise';\r\nimport ModalImages from './ModalImages';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    paddingTop: 30,\r\n    [theme.breakpoints.down('sm')]: {\r\n      paddingTop: 5,\r\n    }\r\n  },\r\n  gridItem: {\r\n    padding: '45px 0px 45px 0px',\r\n    [theme.breakpoints.down('sm')]: {\r\n      padding: 8,\r\n    }\r\n  },\r\n  category: {\r\n    marginTop: 20,\r\n    fontFamily: 'Great Vibes, cursive',\r\n    fontSize: 56,\r\n    textTransform: 'capitalize'\r\n  },\r\n  card: {\r\n    margin: 'auto',\r\n    '&:hover': {\r\n      opacity: 0.8,\r\n    },\r\n    maxWidth: 400,\r\n    borderRadius: 6,\r\n  },\r\n  cardContent: {\r\n    backgroundColor: '#f5f5f5'\r\n  },\r\n  media: {\r\n    height: 250,\r\n  }\r\n});\r\n\r\nclass Category extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      images: [],\r\n      openModal: false,\r\n      index: 0\r\n    };\r\n    this.handleOpen = this.handleOpen.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n  }\r\n\r\n  handleOpen(e) {\r\n    const index = Number(e.target.dataset.index);\r\n    this.setState({\r\n      openModal: true,\r\n      index: index,\r\n    });\r\n  }\r\n\r\n  handleClose = () => {\r\n    this.setState({ openModal: false });\r\n  };\r\n\r\n  fetchImages = makeCancelablePromise(new Promise((resolve, reject) => {\r\n    const { category } = this.props.match.params;\r\n    const db = firebase.firestore();\r\n\r\n    db.collection('images').where('category', '==', category).get().then((snapshot) => {\r\n      if (snapshot.empty) reject('There are no documents in the query snapshot');\r\n      let imagesData = [];\r\n\r\n      snapshot.forEach((doc) => {\r\n        const { id, name, url, thumbUrl, category, description } = doc.data();\r\n        imagesData.push({ id, name, url, thumbUrl, category, description });\r\n      });\r\n\r\n      resolve(imagesData);\r\n    });\r\n  }));\r\n\r\n  componentDidMount() {\r\n    this.fetchImages\r\n      .promise\r\n      .then((imagesData) => {\r\n        this.setState({\r\n          images: imagesData\r\n        });\r\n      })\r\n      .catch((reason) => console.log('isCanceled', reason.isCanceled));\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.hasOwnProperty('match') && prevProps.match.params.category !== this.props.match.params.category) {\r\n      this.setImageSource();\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.fetchImages.cancel();\r\n  }\r\n\r\n  render() {\r\n    const { images, openModal, index } = this.state;\r\n    const { classes, match } = this.props;\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <Typography className={classes.category} gutterBottom variant=\"h4\" align=\"center\">\r\n          {match.params.category}\r\n        </Typography>\r\n        <Grid container spacing={0} justify=\"center\">\r\n          {images.map((data, index) => {\r\n            return (\r\n              <Grid item xs={12} md={6} lg={4} key={data.id} className={classes.gridItem}>\r\n                <Card className={classes.card} about={data.category.toLowerCase()}>\r\n                  <CardMedia\r\n                    className={classes.media}\r\n                    image={data.thumbUrl}\r\n                    data-index={index}\r\n                    title={data.name}\r\n                    onClick={this.handleOpen}\r\n                  />\r\n                </Card>\r\n              </Grid>\r\n            )\r\n          })}\r\n        </Grid>\r\n        {images.length !== 0 && openModal ?\r\n          <ModalImages images={images} match={match} openModal={openModal} handleClose={this.handleClose} index={index} /> : null}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nCategory.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(Category);\r\n","import { firebase } from '../../Firebase';\r\n\r\nfunction uploadComment(collection, comment) {\r\n\tconst db = firebase.firestore();\r\n\tdb.collection(collection)\r\n\t\t.add(comment)\r\n\t\t.then(commentRef => {\r\n\t\t\tconst postRef = db.collection('blog').doc(comment.postId);\r\n\t\t\tdb.runTransaction((t) => {\r\n\t\t\t\treturn t.get(postRef).then((post) => {\r\n\t\t\t\t\tlet newCommentsCounter = post.data().commentsCounter + 1;\r\n\t\t\t\t\tt.update(postRef, { commentsCounter: newCommentsCounter });\r\n\t\t\t\t});\r\n\t\t\t}).then(result => {\r\n\r\n\t\t\t}).catch(err => {\r\n\t\t\t\tconsole.log('Transaction \"+1 comment\" failure:', err);\r\n\t\t\t});\r\n\t\t})\r\n\t\t.catch(function (error) {\r\n\t\t\tconsole.error(\"Error adding comment: \", error);\r\n\t\t});\r\n}\r\n\r\nfunction setUser(googleUser) {\r\n\tif (typeof googleUser === 'object' && googleUser.hasOwnProperty('googleId')) {\r\n\t\t// Form of google user object\r\n\t\tlet user = {\r\n\t\t\tgoogleId: googleUser.googleId,\r\n\t\t\temail: 'none', // Otherwise googleUser.email,\r\n\t\t\timageUrl: googleUser.imageUrl,\r\n\t\t\tname: googleUser.name,\r\n\t\t\tfamilyName: googleUser.familyName,\r\n\t\t\tgivenName: googleUser.givenName,\r\n\t\t\trole: '', // User or admin\r\n\t\t};\r\n\r\n\t\treturn new Promise((resolve) => {\r\n\t\t\tconst users = firebase.firestore().collection('users');\r\n\r\n\t\t\tusers.where('googleId', '==', user.googleId).get().then((snapshot) => {\r\n\t\t\t\tif (snapshot.empty) {\r\n\t\t\t\t\t// If doesnt exist add new user\r\n\t\t\t\t\t// Change role\r\n\t\t\t\t\tuser.role = 'user';\r\n\r\n\t\t\t\t\tusers.add(user).then((doc) => {\r\n\t\t\t\t\t\t// Add new doc id to user object\r\n\t\t\t\t\t\tuser.userId = doc.id;\r\n\t\t\t\t\t\tresolve(user);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(function (error) {\r\n\t\t\t\t\t\t\tconsole.error(\"Error adding document: \", error);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// If exist update user data.\r\n\t\t\t\t\tconst userId = snapshot.docs[0].id;\r\n\r\n\t\t\t\t\tusers.doc(userId)\r\n\t\t\t\t\t\t.update({\r\n\t\t\t\t\t\t\tname: user.name,\r\n\t\t\t\t\t\t\tfamilyName: user.familyName,\r\n\t\t\t\t\t\t\tgivenName: user.givenName,\r\n\t\t\t\t\t\t\timageUrl: user.imageUrl\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\tusers.doc(userId).get().then((doc) => {\r\n\t\t\t\t\t\t\t\tlet userObj = doc.data();\r\n\t\t\t\t\t\t\t\t// Add doc id to user object\r\n\t\t\t\t\t\t\t\tuserObj.userId = doc.id;\r\n\t\t\t\t\t\t\t\tresolve(userObj);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}).catch(function (error) {\r\n\t\t\t\t\tconsole.log(\"Error getting document:\", error);\r\n\t\t\t\t});\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport { uploadComment, setUser };","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport * as firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\nimport { uploadComment } from './uploadSource';\r\n\r\nconst styles = theme => ({\r\n\tavatar: {\r\n\t\tmargin: 10,\r\n\t},\r\n\tcard: {\r\n\t\t// borderRadius: 'unset',\r\n\t\tboxShadow: 'none',\r\n\t},\r\n\theader: {\r\n\t\tpadding: '0px 0px -5px 0px'\r\n\t},\r\n\ttextField: {\r\n\t\tmarginTop: -5\r\n\t}\r\n});\r\n\r\nclass WriteComment extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tcommentField: ''\r\n\t\t};\r\n\t\tthis.publishComment = this.publishComment.bind(this);\r\n\t}\r\n\r\n\tpublishComment() {\r\n\t\tconst { user, postId } = this.props;\r\n\t\tconst { commentField } = this.state;\r\n\t\tif (commentField === '') {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet comment = {\r\n\t\t\tpostId: postId,\r\n\t\t\tuserId: user.googleId,\r\n\t\t\tuserName: user.name,\r\n\t\t\tcontent: commentField,\r\n\t\t\tdate: firebase.firestore.Timestamp.now(),\r\n\t\t\timageUrl: user.imageUrl,\r\n\t\t};\r\n\t\tthis.setState({\r\n\t\t\tcommentField: ''\r\n\t\t});\r\n\t\tuploadComment('comments', comment);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes, user } = this.props;\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Card className={classes.card}>\r\n\t\t\t\t\t<CardHeader\r\n\t\t\t\t\t\tclassName={classes.header}\r\n\t\t\t\t\t\tavatar={\r\n\t\t\t\t\t\t\t<Avatar alt={user.name} src={user.imageUrl} className={classes.avatar} />\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttitle={user.name}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Card>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\tid=\"outlined-multiline-static\"\r\n\t\t\t\t\tlabel=\"Write a comment:\"\r\n\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\tmultiline\r\n\t\t\t\t\trows=\"4\"\r\n\t\t\t\t\tmargin=\"normal\"\r\n\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\tvalue={this.state.commentField}\r\n\t\t\t\t\tonChange={event => this.setState({ commentField: event.target.value })}\r\n\t\t\t\t/>\r\n\t\t\t\t<Button variant=\"outlined\" color=\"primary\" onClick={this.publishComment}>\r\n\t\t\t\t\tPublish\r\n\t\t\t\t</Button>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nWriteComment.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(WriteComment);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nconst styles = theme => ({\r\n  card: {\r\n    borderRadius: 'unset',\r\n    boxShadow: 'none',\r\n    borderLeft: '1px solid lightgrey'\r\n  },\r\n  paper: {\r\n    padding: 15,\r\n    backgroundColor: '#f7f7f7',\r\n    boxShadow: 'unset'\r\n  },\r\n  header: {\r\n    padding: 0\r\n  },\r\n  avatar: {\r\n    margin: 10,\r\n  },\r\n});\r\n\r\nclass SubComment extends React.Component {\r\n  render() {\r\n    const { classes, subcomment } = this.props;\r\n\r\n    return (\r\n      <Card className={classes.card}>\r\n        <CardHeader\r\n          className={classes.header}\r\n          avatar={\r\n            <Avatar alt={subcomment.userName} src={subcomment.imageUrl} className={classes.avatar} />\r\n          }\r\n          title={subcomment.userName}\r\n          subheader={subcomment.date}\r\n        />\r\n        <CardContent>\r\n          <Paper className={classes.paper}>\r\n            <Typography component=\"p\">{subcomment.content}</Typography>\r\n          </Paper>\r\n        </CardContent>\r\n      </Card>\r\n    )\r\n  }\r\n}\r\n\r\nSubComment.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(SubComment);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { firebase } from '../../Firebase';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport classnames from 'classnames';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Button from '@material-ui/core/Button';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nimport SubComment from './SubComment';\r\nimport { uploadComment } from './uploadSource'\r\n\r\nconst styles = theme => ({\r\n  card: {\r\n    borderRadius: 'unset',\r\n    boxShadow: 'none',\r\n  },\r\n  header: {\r\n    padding: 0\r\n  },\r\n  subcomments: {\r\n    paddingLeft: 50\r\n  },\r\n  paper: {\r\n    padding: 15,\r\n    backgroundColor: '#f7f7f7',\r\n    boxShadow: 'unset'\r\n  },\r\n  expand: {\r\n    transform: 'rotate(0deg)',\r\n    transition: theme.transitions.create('transform', {\r\n      duration: theme.transitions.duration.shortest,\r\n    }),\r\n    [theme.breakpoints.up('sm')]: {\r\n      marginRight: -8,\r\n    },\r\n  },\r\n  expandOpen: {\r\n    transform: 'rotate(180deg)',\r\n  },\r\n  margin: {\r\n    margin: theme.spacing.unit,\r\n  },\r\n  textField: {\r\n    marginLeft: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit,\r\n  },\r\n  dense: {\r\n    marginTop: 16,\r\n  },\r\n  button: {\r\n    margin: theme.spacing.unit,\r\n  },\r\n});\r\n\r\nclass Comment extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      commentField: '',\r\n      expanded: false,\r\n    };\r\n    this.handleExpandClick = this.handleExpandClick.bind(this);\r\n    this.sendSubcomment = this.sendSubcomment.bind(this);\r\n  }\r\n\r\n  handleExpandClick() {\r\n    this.setState(state => ({ expanded: !state.expanded }));\r\n  };\r\n\r\n  sendSubcomment() {\r\n    const { comment, user } = this.props;\r\n    const { commentField } = this.state;\r\n    if (commentField === '') {\r\n      return;\r\n    }\r\n    let subcomment = {\r\n      postId: comment.postId,\r\n      commentId: comment.commentId,\r\n      userId: user.googleId,\r\n      userName: user.name,\r\n      content: commentField,\r\n      date: firebase.firestore.Timestamp.now(),\r\n      imageUrl: user.imageUrl\r\n    };\r\n    this.setState({\r\n      commentField: ''\r\n    });\r\n\r\n    uploadComment('subcomments', subcomment);\r\n  }\r\n\r\n  render() {\r\n    const { classes, comment, user, subcomments } = this.props;\r\n    const { expanded } = this.state;\r\n\r\n    const filteredSubcomments = subcomments.filter((el) => el.commentId === comment.commentId);\r\n\r\n    return (\r\n      <Card className={classes.card}>\r\n        <CardHeader\r\n          avatar={\r\n            <Avatar alt={comment.userName} src={comment.imageUrl} />\r\n          }\r\n          title={comment.userName}\r\n          titleTypographyProps={{ variant: \"body2\" }}\r\n          subheader={comment.date}\r\n          subheaderTypographyProps={{ variant: \"body2\" }}\r\n          className={classes.header}\r\n        />\r\n        <CardContent>\r\n          <Paper className={classes.paper}>\r\n            <Typography component=\"p\" >{comment.content}</Typography>\r\n          </Paper>\r\n        </CardContent>\r\n        {/* <Divider /> */}\r\n        <CardActions style={{ justifyContent: 'flex-end', marginTop: -10 }} disableActionSpacing>\r\n          <Typography variant=\"caption\">\r\n            Answers: {filteredSubcomments.length}\r\n          </Typography>\r\n          <IconButton\r\n            className={classnames(classes.expand, {\r\n              [classes.expandOpen]: expanded,\r\n            })}\r\n            onClick={this.handleExpandClick}\r\n            aria-expanded={expanded}\r\n            aria-label=\"Show more\"\r\n          >\r\n            <ExpandMoreIcon />\r\n          </IconButton>\r\n        </CardActions>\r\n        <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\r\n          <CardContent>\r\n            <div className={classes.subcomments}>\r\n              {filteredSubcomments.map((subcomment) => {\r\n                return (\r\n                  <SubComment key={subcomment.subcommentId} subcomment={subcomment} />\r\n                )\r\n              })\r\n              }\r\n              <Grid container spacing={8} alignItems=\"flex-start\">\r\n                <Grid item style={{ flexGrow: 1 }}>\r\n                  {user ?\r\n                    <React.Fragment>\r\n                      <TextField\r\n                        id=\"outlined-multiline-static\"\r\n                        fullWidth={true}\r\n                        label=\"Write a response:\"\r\n                        className={classnames(classes.textField, classes.dense)}\r\n                        margin=\"normal\"\r\n                        multiline\r\n                        rows=\"4\"\r\n                        variant=\"outlined\"\r\n                        value={this.state.commentField}\r\n                        onChange={event => this.setState({ commentField: event.target.value })}\r\n                      />\r\n                      <Button variant=\"outlined\" color=\"primary\" className={classes.button} onClick={this.sendSubcomment}>\r\n                        Publish\r\n\t\t\t\t\t\t\t        </Button>\r\n                    </React.Fragment> :\r\n                    <Typography variant=\"caption\">Sign in to write a comment.</Typography>\r\n                  }\r\n                </Grid>\r\n              </Grid>\r\n            </div>\r\n          </CardContent>\r\n        </Collapse>\r\n      </Card>\r\n    )\r\n  }\r\n}\r\n\r\nComment.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(Comment);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { firebase } from '../../Firebase';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nimport Comment from './Comment';\r\n\r\nconst styles = theme => ({\r\n  paper: {\r\n    borderRadius: 'none',\r\n    boxShadow: 'none',\r\n  },\r\n});\r\n\r\nclass CommentSection extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      comments: [],\r\n      subcomments: [],\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { postId } = this.props;\r\n    const db = firebase.firestore();\r\n    \r\n    this.unsubscribeComments = db.collection('comments')\r\n      .where('postId', '==', postId)\r\n      .orderBy('date', 'asc')\r\n      .onSnapshot((snapshot) => {\r\n        let comments = [];\r\n        snapshot.forEach((comment) => {\r\n          const { content, postId, userId, date, userName, imageUrl } = comment.data();\r\n          comments.push({\r\n            postId: postId,\r\n            commentId: comment.id,\r\n            content: content,\r\n            date: date.toDate().toDateString() + '  ' + date.toDate().toLocaleTimeString(),\r\n            userId: userId,\r\n            userName: userName,\r\n            imageUrl: imageUrl\r\n          });\r\n        });\r\n        this.setState({\r\n          comments: comments\r\n        });\r\n      });\r\n\r\n    this.unsubscribeSubcomments = db.collection('subcomments')\r\n      .where('postId', '==', postId)\r\n      .orderBy('date', 'asc')\r\n      .onSnapshot((snapshot) => {\r\n        let subcomments = [];\r\n        snapshot.forEach((subcomment) => {\r\n          const { content, postId, commentId, userId, date, userName, imageUrl } = subcomment.data();\r\n          subcomments.push({\r\n            postId: postId,\r\n            commentId: commentId,\r\n            subcommentId: subcomment.id,\r\n            content: content,\r\n            date: date.toDate().toDateString() + '  ' + date.toDate().toLocaleTimeString(),\r\n            userId: userId,\r\n            userName: userName,\r\n            imageUrl: imageUrl\r\n          });\r\n        });\r\n        this.setState({\r\n          subcomments: subcomments,\r\n        });\r\n      });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.unsubscribeComments();\r\n    this.unsubscribeSubcomments();\r\n  }\r\n\r\n  render() {\r\n    const { comments, subcomments } = this.state;\r\n    const { classes, user } = this.props;\r\n\r\n    return (\r\n      <Paper className={classes.paper}>\r\n        {comments.map((comment) => {\r\n          return (\r\n            <Comment className={classes.comments} key={comment.commentId} comment={comment} subcomments={subcomments} user={user} />\r\n          )\r\n        })\r\n        }\r\n      </Paper>\r\n    )\r\n  }\r\n}\r\n\r\nCommentSection.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(CommentSection);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { firebase } from '../../Firebase';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport classnames from 'classnames';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport Comment from '@material-ui/icons/Comment';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport Slide from '@material-ui/core/Slide';\r\n\r\nimport WriteComment from './WriteComment';\r\nimport CommentSection from './CommentSection';\r\n\r\nconst styles = theme => ({\r\n  card: {\r\n    // boxShadow: 'none',\r\n    // borderBottom: '1px #dbdbdb solid',\r\n    // borderRadius: 0,\r\n    margin: '3% 0 3% 0',\r\n    [theme.breakpoints.down('xs')]: {\r\n      borderTop: '1px #dbdbdb solid',\r\n      boxShadow: 'none',\r\n      margin: 0\r\n    },\r\n  },\r\n  titleCard: {\r\n    fontSize: '1.2em',\r\n    textTransform: 'capitalize',\r\n    fontWeight: 'bold'\r\n  },\r\n  media: {\r\n    paddingTop: '56.25%', // 16:9\r\n  },\r\n  avatar: {\r\n    margin: 10,\r\n  },\r\n  bigAvatar: {\r\n    width: 50,\r\n    height: 50,\r\n  },\r\n  content: {\r\n    display: '-webkit-box',\r\n    overflow: 'hidden',\r\n    boxOrient: 'vertical',\r\n    textOverflow: 'ellipsis',\r\n    lineClamp: 4,\r\n    marginBottom: 16\r\n  },\r\n  actions: {\r\n    display: 'flex',\r\n    marginTop: -25\r\n  },\r\n  expand: {\r\n    transform: 'rotate(0deg)',\r\n    transition: theme.transitions.create('transform', {\r\n      duration: theme.transitions.duration.shortest,\r\n    }),\r\n    marginLeft: 'auto',\r\n    [theme.breakpoints.up('sm')]: {\r\n      marginRight: -8,\r\n    },\r\n  },\r\n  expandOpen: {\r\n    transform: 'rotate(180deg)',\r\n  },\r\n  favourite: {\r\n    color: '#dc143c'\r\n  },\r\n  unfavourite: {\r\n    color: 'grey'\r\n  }\r\n});\r\n\r\nclass Post extends React.Component {\r\n  isLikeRecieved = false;\r\n  isLikePending = false;\r\n  isLiked = false;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      commentsCounter: 0,\r\n      chat: false,\r\n      likes: 0,\r\n      changeLikeColor: false,\r\n      fade: false\r\n    };\r\n    this.handleCommentClick = this.handleCommentClick.bind(this);\r\n    this.addToLiked = this.addToLiked.bind(this);\r\n    this.mediaOnLoad = this.mediaOnLoad.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const db = firebase.firestore();\r\n\r\n    this.unsubscribeBlog = db.collection('blog').doc(this.props.postId).onSnapshot((post) => {\r\n      if (post.exists) {\r\n        const commentsCounter = post.data().commentsCounter;\r\n        const likes = post.data().likes;\r\n\r\n        this.setState({\r\n          commentsCounter: commentsCounter,\r\n          likes: likes,\r\n        });\r\n      } else {\r\n        console.log(`postId ${this.props.postId} doesn't exists or can't retrieve it`);\r\n      }\r\n    });\r\n\r\n    if (typeof this.props.user === 'object' && this.props.user.hasOwnProperty('userId')) {\r\n      this.unsubscribeUserLiked = db.collection('users').doc(this.props.user.userId)\r\n        .collection('userLiked').where('postId', '==', this.props.postId).onSnapshot((userLike) => {\r\n          if (userLike.docs.length === 1) {\r\n            this.setState(() => {\r\n              this.isLikeRecieved = true;\r\n              this.isLiked = userLike.docs[0].data().isLiked;\r\n\r\n              return {\r\n                changeLikeColor: this.isLiked\r\n              };\r\n            });\r\n          }\r\n        });\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { user } = this.props;\r\n\r\n    if (user !== prevProps.user && user !== undefined && user.hasOwnProperty('userId')) {\r\n      let db = firebase.firestore();\r\n      this.unsubscribeUserLiked = db.collection('users').doc(user.userId)\r\n        .collection('userLiked').where('postId', '==', this.props.postId).onSnapshot((userLike) => {\r\n          if (userLike.docs.length === 1) {\r\n            this.setState(() => {\r\n              this.isLikeRecieved = true;\r\n              this.isLiked = userLike.docs[0].data().isLiked;\r\n\r\n              return {\r\n                changeLikeColor: this.isLiked\r\n              };\r\n            });\r\n          }\r\n        });\r\n    } else if (user !== prevProps.user && user === undefined) {\r\n      this.isLikeRecieved = false;\r\n      this.isLiked = false;\r\n\r\n      this.setState({\r\n        changeLikeColor: false\r\n      });\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.unsubscribeBlog();\r\n    if (this.unsubscribeUserLiked) {\r\n      this.unsubscribeUserLiked();\r\n    }\r\n  }\r\n\r\n  addToLiked() {\r\n    if (typeof this.props.user !== 'object') {\r\n      return;\r\n    } else if (!this.props.user.hasOwnProperty('userId') && !this.isLikeRecieved) {\r\n      return;\r\n    } else if (this.isLikePending) {\r\n      return;\r\n    }\r\n\r\n    this.isLikePending = !this.isLikePending;\r\n    const vote = this.isLiked ? -1 : 1;\r\n\r\n    this.setState({\r\n      changeLikeColor: !this.state.changeLikeColor,\r\n      likes: this.state.likes + vote\r\n    });\r\n\r\n    const db = firebase.firestore();\r\n    const postRef = firebase.firestore().collection('blog').doc(this.props.postId);\r\n\r\n    db.runTransaction((t) => {\r\n      return t.get(postRef).then((post) => {\r\n        const newLikes = post.data().likes + vote;\r\n        t.update(postRef, { likes: newLikes });\r\n      });\r\n    }).then(() => {\r\n      const userLiked = db.collection('users').doc(this.props.user.userId).collection('userLiked');\r\n      userLiked.where('postId', '==', this.props.postId).get().then((liked) => {\r\n        if (liked.docs.length === 0) {\r\n          userLiked.add({\r\n            postId: this.props.postId,\r\n            isLiked: !this.isLiked\r\n          }).then(() => {\r\n            this.isLikePending = false;\r\n          }).catch(err => {\r\n            console.log(`Adding \"isLiked\" doc failure: `, err);\r\n          });\r\n        } else {\r\n          userLiked.doc(liked.docs[0].id).update({\r\n            isLiked: !this.isLiked\r\n          }).then(() => {\r\n            this.isLikePending = false;\r\n          }).catch(err => {\r\n            console.log(`Updating \"isLiked\" doc failure: `, err);\r\n          });\r\n        }\r\n      });\r\n    }).catch(err => {\r\n      console.log(`Transaction \"${vote} like\" failure: `, err);\r\n    });\r\n  }\r\n\r\n  handleCommentClick() {\r\n    this.setState(state => ({\r\n      chat: !state.chat\r\n    }));\r\n  };\r\n\r\n  mediaOnLoad() {\r\n\r\n    this.setState({\r\n      fade: true\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { classes, post, postId, user } = this.props;\r\n    const { commentsCounter, chat, changeLikeColor, likes, fade } = this.state;\r\n\r\n    post.date = new Date(post.date).toDateString();\r\n\r\n    return (\r\n      <Slide timeout={500} direction=\"right\" in={true} mountOnEnter unmountOnExit>\r\n        <Card className={classes.card}>\r\n          <CardHeader\r\n            avatar={\r\n              <Avatar src={post.avatarUrl}\r\n                aria-label=\"Logo\" className={classnames(classes.avatar, classes.bigAvatar)}>\r\n              </Avatar>\r\n            }\r\n            title={post.title}\r\n            titleTypographyProps={{ className: classes.titleCard }}\r\n            subheader={post.date}\r\n          />\r\n          <a type=\"button\" target=\"_blank\" rel=\"noopener noreferrer\"\r\n            href={post.linkUrl}>\r\n            <Fade in={fade} timeout={{ enter: 400, exit: 0 }}>\r\n              <CardMedia\r\n                className={classes.media}\r\n                image={post.imageUrl}\r\n                title={post.title}\r\n              />\r\n            </Fade>\r\n            <img src={post.imageUrl} alt={post.title} onLoad={this.mediaOnLoad} style={{ display: 'none' }} />\r\n          </a>\r\n          <CardContent>\r\n            <Typography className={classes.content} component=\"p\" variant=\"body1\" gutterBottom={true} align=\"justify\">\r\n              {post.content}\r\n            </Typography>\r\n            <Typography component=\"p\" align=\"left\" variant=\"caption\">\r\n              Source:\r\n            <a type=\"text/html\" target=\"_blank\" rel=\"noopener noreferrer\"\r\n                href={post.homepageUrl}>\r\n                {post.homepageUrl}\r\n              </a>\r\n            </Typography>\r\n          </CardContent>\r\n          <CardActions className={classes.actions} disableActionSpacing>\r\n            <IconButton aria-label=\"Add to favorites\" onClick={this.addToLiked}>\r\n              {changeLikeColor ?\r\n                <FavoriteIcon className={classes.favourite} /> : <FavoriteIcon className={classes.unfavourite} />}\r\n            </IconButton>\r\n            <Typography style={{marginLeft: -6}}>{likes}</Typography>\r\n            <IconButton\r\n              onClick={this.handleCommentClick}\r\n              aria-expanded={chat}\r\n              aria-label=\"Comment\">\r\n              <Comment />\r\n            </IconButton>\r\n            <Typography style={{marginLeft: -7}}>{commentsCounter}</Typography>\r\n          </CardActions>\r\n          <Collapse in={chat} timeout=\"auto\" unmountOnExit>\r\n            <CardContent>\r\n              <CommentSection postId={postId} user={user} />\r\n              {user ?\r\n                <WriteComment postId={postId} user={user} /> :\r\n                <Typography variant=\"caption\">Sign in to write a comment.</Typography>\r\n              }\r\n            </CardContent>\r\n          </Collapse>\r\n        </Card>\r\n      </Slide>\r\n    );\r\n  }\r\n}\r\n\r\nPost.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(Post);\r\n","// var algoliasearch = require('algoliasearch');\r\n// var algoliasearch = require('algoliasearch/reactnative');\r\n// var algoliasearch = require('algoliasearch/lite');\r\nimport * as algoliasearch from 'algoliasearch'; // When using TypeScript\r\n\r\n// or just use algoliasearch if you are using a <script> tag\r\n// if you are using AMD module loader, algoliasearch will not be defined in window,\r\n// but in the AMD modules of the page\r\n\r\nconst APP_ID = process.env.REACT_APP_ALGOLIA_appId;\r\nconst SEARCH_ONLY_API_KEY = process.env.REACT_APP_ALGOLIA_searchOnlyApiKey;\r\n\r\nconst client = algoliasearch(APP_ID, SEARCH_ONLY_API_KEY);\r\nconst index = client.initIndex('blog_posts');\r\n\r\nfunction Algolia(query) {\r\n\treturn new Promise((resolve) => {\r\n\t\tindex.search(\r\n\t\t\t{\r\n\t\t\t\tquery: query,\r\n\t\t\t\t// attributesToRetrieve: ['firstname', 'lastname'],\r\n\t\t\t\thitsPerPage: 50,\r\n\t\t\t},\r\n\t\t\tfunction searchDone(err, content) {\r\n\t\t\t\tif (err) throw err;\r\n\t\t\t\tresolve(content);\r\n\t\t\t}\r\n\t\t);\r\n\t});\r\n}\r\n\r\nexport default Algolia;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Slide from '@material-ui/core/Slide';\r\n\r\nimport LazyLoad from 'react-lazy-load';\r\n\r\nimport Post from './Post';\r\nimport Algolia from '../../Algolia';\r\nimport { UserContext } from '../../App';\r\nimport makeCancelablePromise from '../helperFunctions/makeCancelablePromise';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    flexGrow: 1\r\n  },\r\n  grid: {\r\n    [theme.breakpoints.down('sm')]: {\r\n      flexDirection: 'column-reverse',\r\n    }\r\n  },\r\n  titleContainer: {\r\n    alignItems: 'center',\r\n  },\r\n  textField: {\r\n    [theme.breakpoints.down('sm')]: {\r\n      marginLeft: theme.spacing.unit * 4,\r\n    },\r\n    [theme.breakpoints.down('xs')]: {\r\n      marginLeft: theme.spacing.unit,\r\n    },\r\n    marginLeft: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit,\r\n  },\r\n  articlesTitle: {\r\n    [theme.breakpoints.down('sm')]: {\r\n      padding: '25px 0px 0px 20px',\r\n      fontSize: 16\r\n    },\r\n    color: 'black',\r\n  },\r\n  articleContainer: {\r\n    marginLeft: '25%',\r\n    [theme.breakpoints.down('xl')]: {\r\n      marginLeft: '25.7%',\r\n    },\r\n    [theme.breakpoints.down('lg')]: {\r\n      marginLeft: '22.5%',\r\n    },\r\n    [theme.breakpoints.down('md')]: {\r\n      marginLeft: '13%',\r\n    },\r\n    [theme.breakpoints.down('sm')]: {\r\n      marginLeft: '7%',\r\n    },\r\n    [theme.breakpoints.down('xs')]: {\r\n      marginLeft: '-3%',\r\n    },\r\n  },\r\n  posts: {\r\n    marginLeft: '30%',\r\n    [theme.breakpoints.down('lg')]: {\r\n      marginLeft: '25%',\r\n    },\r\n    [theme.breakpoints.down('md')]: {\r\n      marginLeft: '15%',\r\n    },\r\n    [theme.breakpoints.down('sm')]: {\r\n      margin: '5%',\r\n    },\r\n    [theme.breakpoints.down('xs')]: {\r\n      margin: '0%',\r\n    }\r\n  },\r\n  avatar: {\r\n    margin: 10\r\n  },\r\n  lazyLoad: {\r\n    display: 'inline-block',\r\n    position: 'relative',\r\n    height: 600,\r\n    [theme.breakpoints.down('sm')]: {\r\n      height: 300,\r\n    }\r\n  },\r\n});\r\n\r\nclass Blog extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      posts: [],\r\n    };\r\n    this.handleOnSearchChange = this.handleOnSearchChange.bind(this);\r\n  }\r\n\r\n  AlgoliaResults = makeCancelablePromise(Algolia(''));\r\n\r\n  handleOnSearchChange(event) {\r\n    const searchValue = event.target.value;\r\n    this.AlgoliaResults = makeCancelablePromise(Algolia(searchValue));\r\n\r\n    this.AlgoliaResults\r\n      .promise\r\n      .then((content) => {\r\n        this.setState({\r\n          posts: content.hits,\r\n        });\r\n      });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.AlgoliaResults\r\n      .promise\r\n      .then((content) => {\r\n        this.setState({\r\n          posts: content.hits,\r\n        });\r\n      });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.AlgoliaResults.cancel();\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    const { posts } = this.state;\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <Grid container spacing={0} className={classes.titleContainer}>\r\n          <Grid item xs={12} md={2} className={classes.articleContainer}>\r\n            <Typography variant=\"h6\" gutterBottom={false} align=\"left\" className={classes.articlesTitle}>\r\n              LATEST ARTICLES\r\n            </Typography>\r\n          </Grid>\r\n        </Grid>\r\n        <Grid container spacing={0} className={classes.grid}>\r\n          <Grid item sm={12} md={8}>\r\n            <div className={classes.posts}>\r\n              <Grid container spacing={0}>\r\n                {posts.map((post) => {\r\n                  return (\r\n                    <Grid item xs={12} key={post.objectID}>\r\n                      <LazyLoad className={classes.lazyLoad} offsetVertical={100}>\r\n                        <UserContext.Consumer>\r\n                          {user => <Post postId={post.objectID} post={post} user={user} />}\r\n                        </UserContext.Consumer>\r\n                      </LazyLoad>\r\n                    </Grid>\r\n                  )\r\n                })}\r\n              </Grid>\r\n            </div>\r\n          </Grid>\r\n          <Grid item sm={12} md={4}>\r\n            <Grid container spacing={0} className={classes.grid}>\r\n              <Grid item sm={12} md={12}>\r\n                <Slide timeout={500} direction=\"left\" in={true} mountOnEnter unmountOnExit>\r\n                  <TextField\r\n                    className={classes.textField}\r\n                    onChange={this.handleOnSearchChange}\r\n                    id=\"outlined-search\"\r\n                    label=\"Search...\"\r\n                    type=\"search\"\r\n                    margin=\"normal\"\r\n                    variant=\"outlined\"\r\n                  />\r\n                </Slide>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nBlog.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(Blog);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst styles = theme => ({\r\n  card: {\r\n    width: '100%',\r\n    borderRadius: 0,\r\n    boxShadow: 'unset',\r\n    backgroundColor: '#F5F9FA'\r\n  },\r\n  media: {\r\n    objectFit: 'cover',\r\n  },\r\n});\r\n\r\nclass NewsCard extends React.Component {\r\n  render() {\r\n    const { classes, article, height } = this.props;\r\n    const date = new Date(article.publishedAt)\r\n      .toLocaleDateString('en-GB', { day: 'numeric', month: 'long', year: 'numeric' });\r\n\r\n    return (\r\n      <Card className={classes.card}>\r\n        <CardMedia\r\n          component=\"img\"\r\n          alt=\"Contemplative Reptile\"\r\n          className={classes.media}\r\n          height={height || \"250\"}\r\n          image={article.urlToImage}\r\n          title=\"Contemplative Reptile\"\r\n        />\r\n        <div style={{ padding: '15px 10px 15px 10px' }}>\r\n          <CardContent>\r\n            <Typography variant=\"button\" style={{ display: 'inline-block', marginBottom: '0.8rem', color: \"#ffbf00\" }}>\r\n              {article.author} <span style={{ color: \"#848F95\" }}>| {date}</span>\r\n            </Typography>\r\n            <Typography gutterBottom variant=\"h5\" style={{ fontWeight: 700 }}>\r\n              {article.title}\r\n            </Typography>\r\n            <Typography component=\"p\">\r\n              {article.description}\r\n            </Typography>\r\n          </CardContent>\r\n          <CardActions>\r\n            <Button\r\n              href={article.url}\r\n              rel=\"noopener noreferrer\"\r\n              target=\"_blank\"\r\n              size=\"small\" style={{ marginTop: -10, fontSize: '0.857rem', color: \"#848F95\" }}>\r\n              <div><span style={{ borderBottom: \"2px solid\" }}>READ </span>MORE</div>\r\n            </Button>\r\n          </CardActions>\r\n        </div>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nNewsCard.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(NewsCard);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\n// import Button from '@material-ui/core/Button';\r\n// import Typography from '@material-ui/core/Typography';\r\n\r\nimport NewsCard from './NewsCard';\r\nimport makeCancelablePromise from '../helperFunctions/makeCancelablePromise';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    margin: '0% 10% 0% 10%',\r\n    [theme.breakpoints.down('md')]: {\r\n      margin: '0%',\r\n    },\r\n  }\r\n});\r\n\r\nclass NewsFeed extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      newsFeed_first: [],\r\n      newsFeed_part1: [],\r\n      newsFeed_part2: [],\r\n      newsFeed_part3: []\r\n    };\r\n  }\r\n\r\n  cancelableNews = makeCancelablePromise(this.fetchNews());\r\n\r\n  fetchNews() {\r\n    const url = 'https://newsapi.org/v2/top-headlines?sources=national-geographic&apiKey=' + process.env.REACT_APP_NEWSAPI_apiKey;\r\n    const req = new Request(url);\r\n\r\n    return fetch(req).then(function (response) {\r\n      return response.json();\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.cancelableNews.promise\r\n      .then((result) => {\r\n        const { articles } = result;\r\n        const colLength = Math.floor((articles.length - 1) / 3);\r\n\r\n        this.setState({\r\n          newsFeed_first: articles.slice(0, 1),\r\n          newsFeed_part1: articles.slice(1, colLength + 1),\r\n          newsFeed_part2: articles.slice(colLength + 1, colLength * 2 + 1),\r\n          newsFeed_part3: articles.slice(colLength * 2 + 1)\r\n        });\r\n      });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.cancelableNews.cancel();\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    const { newsFeed_first, newsFeed_part1, newsFeed_part2, newsFeed_part3 } = this.state;\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <Grid container spacing={32} direction=\"row\" justify=\"center\" alignItems=\"flex-start\">\r\n          <Grid item xs={12} sm={8}>\r\n            <Grid container spacing={32} justify=\"center\" alignItems=\"flex-start\">\r\n              <Grid item xs={12}>\r\n                {newsFeed_first.map((value) =><NewsCard key={value.publishedAt} article={value} height=\"500\" />)}\r\n              </Grid>\r\n              <Grid item xs={6}>\r\n                <Grid container spacing={32} direction=\"column\" justify=\"center\" alignItems=\"center\">\r\n                  {newsFeed_part1.map((value) => <Grid key={value.publishedAt} item xs={12}><NewsCard article={value} /></Grid>)}\r\n                </Grid>\r\n              </Grid>\r\n              <Grid item xs={6}>\r\n                <Grid container spacing={32} direction=\"column\" justify=\"center\" alignItems=\"center\">\r\n                  {newsFeed_part2.map((value) => <Grid key={value.publishedAt} item xs={12}><NewsCard article={value} /></Grid>)}\r\n                </Grid>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid item xs={12} sm={4}>\r\n            <Grid container spacing={32} direction=\"column\" justify=\"center\" alignItems=\"center\">\r\n              {newsFeed_part3.map((value) => <Grid key={value.publishedAt} item xs={12}><NewsCard article={value} /></Grid>)}\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nNewsFeed.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(NewsFeed);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Zoom from '@material-ui/core/Zoom';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    flexGrow: 1\r\n  },\r\n});\r\n\r\nclass Error404 extends React.Component {\r\n  render() {\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <Zoom in={true} timeout={500}>\r\n          <React.Fragment>\r\n            <Typography paragraph={true} align=\"center\" color=\"primary\">\r\n              <i className=\"material-icons\" style={{ fontSize: '6rem' }}>\r\n                error_outline\r\n              </i>\r\n            </Typography>\r\n            <Typography paragraph={true} align=\"center\" color=\"primary\" style={{ fontSize: '2rem' }}>\r\n              Error404\r\n          </Typography>\r\n          </React.Fragment>\r\n        </Zoom>\r\n        <Typography paragraph={true} align=\"center\" color=\"primary\" style={{ fontSize: '1rem' }}>\r\n          Page not found !\r\n        </Typography>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nError404.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(Error404);\r\n","import React, { Component } from 'react';\r\nimport { Route, BrowserRouter as Router, Switch } from \"react-router-dom\";\r\nimport PropTypes from 'prop-types';\r\nimport { GoogleLogin, GoogleLogout } from 'react-google-login';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Hidden from '@material-ui/core/Hidden';\r\n\r\nimport grey from '@material-ui/core/colors/grey';\r\nimport blueGrey from '@material-ui/core/colors/blueGrey';\r\n\r\nimport TopNavBar from './components/navbar/TopNavBar';\r\nimport NavBar from './components/navbar/NavBar';\r\nimport DrawerMenu from './components/navbar/DrawerMenu';\r\n\r\nimport Main from './components/main/Main';\r\nimport About from './components/about/About';\r\nimport Gallery from './components/gallery/Gallery';\r\nimport Category from './components/gallery/Category';\r\nimport Blog from './components/blog/Blog';\r\nimport NewsFeed from './components/newsfeed/NewsFeed';\r\nimport Error404 from './components/Errors/Error404';\r\n// import Footer from './components/footer/Footer'\r\n\r\nimport { setUser } from './components/blog/uploadSource';\r\n\r\nexport const UserContext = React.createContext();\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: grey,\r\n    secondary: blueGrey\r\n  },\r\n  typography: {\r\n    useNextVariants: true,\r\n    fontFamily: 'Noto Sans, sans-serif'\r\n  },\r\n});\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    [theme.breakpoints.down('sm')]: {\r\n      display: 'inline-flex',\r\n      width: 30,\r\n      height: 30,\r\n    },\r\n  },\r\n  GoogleLogin: {\r\n    position: 'absolute',\r\n    top: 15,\r\n    marginLeft: '28%',\r\n    border: 'white',\r\n    backgroundColor: 'white',\r\n    color: 'grey',\r\n    height: 32,\r\n    width: 60,\r\n    borderRadius: 10,\r\n    fontSize: 12,\r\n    fontWeight: 'bold',\r\n    '&:hover': {\r\n      border: '1px #dbdbdb solid'\r\n    },\r\n    [theme.breakpoints.down('xs')]: {\r\n      marginLeft: '74%',\r\n    }\r\n  },\r\n  GoogleLogout: {\r\n    position: 'absolute',\r\n    marginLeft: '28%',\r\n    fontSize: 16,\r\n    top: 15,\r\n    [theme.breakpoints.down('xs')]: {\r\n      marginLeft: '84%',\r\n    }\r\n  },\r\n});\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      user: undefined,\r\n    }\r\n    this.responseGoogle = this.responseGoogle.bind(this);\r\n    this.logout = this.logout.bind(this);\r\n  }\r\n\r\n  responseGoogle = (res) => {\r\n    setUser(res.profileObj).then((user) => {\r\n      this.setState({\r\n        user: user,\r\n      });\r\n    });\r\n  }\r\n\r\n  logout = () => {\r\n    this.setState({\r\n      user: undefined\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { user } = this.state;\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <MuiThemeProvider theme={theme}>\r\n        <Router>\r\n          <UserContext.Provider value={user}>\r\n            <Grid container spacing={0} className={classes.root}>\r\n              <Grid item xs={10} sm={12}>\r\n                <TopNavBar>\r\n                  {user ?\r\n                    <GoogleLogout\r\n                      className={classes.GoogleLogout}\r\n                      tag={'div'}\r\n                      buttonText=\"\"\r\n                      onLogoutSuccess={this.logout}\r\n                    >\r\n                      <Avatar className={classes.avatar} alt={user.userName} src={user.imageUrl} />\r\n                    </GoogleLogout> :\r\n                    <GoogleLogin\r\n                      className={classes.GoogleLogin}\r\n                      clientId={process.env.REACT_APP_GOOGLE_clientId}\r\n                      tag={'button'}\r\n                      uxMode={'popup'}\r\n                      buttonText=\"Google login\"\r\n                      onSuccess={this.responseGoogle}\r\n                      onFailure={() => console.log(`Failure: Can't retrieve googleUser!`)}\r\n                      isSignedIn={true}\r\n                    >\r\n                    </GoogleLogin>\r\n                  }\r\n                </TopNavBar>\r\n              </Grid>\r\n              <Grid item xs={2} sm={12}>\r\n                <Hidden only={['xs']}>\r\n                  <NavBar />\r\n                </Hidden>\r\n                <Hidden only={['sm', 'md', 'lg', 'xl']}>\r\n                  <DrawerMenu />\r\n                </Hidden>\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <Switch>\r\n                  <Route exact path=\"/\" component={Main} />\r\n                  <Route path=\"/main\" component={Main} />\r\n                  <Route path=\"/about\" component={About} />\r\n                  <Route path=\"/gallery/\" component={Gallery} />\r\n                  <Route path=\"/category/:category\" component={Category} />\r\n                  <Route path=\"/blog\" component={Blog} />\r\n                  <Route path=\"/newsfeed\" component={NewsFeed} />\r\n                  <Route render={() => <Error404 />} />\r\n                </Switch>\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                {/* ToDo <Route path=\"/footer\" component={Footer}/> */}\r\n              </Grid>\r\n            </Grid>\r\n          </UserContext.Provider>\r\n        </Router>\r\n      </MuiThemeProvider >\r\n    );\r\n  }\r\n}\r\n\r\nApp.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(App);\r\n","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport default function register() {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Lets check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the old content will have been purged and\r\n              // the fresh content will have been added to the cache.\r\n              // It's the perfect time to display a \"New content is\r\n              // available; please refresh.\" message in your web app.\r\n              console.log('New content is available; please refresh.');\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get('content-type').indexOf('javascript') === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport App from './App';\r\nimport registerServiceWorker from './registerServiceWorker';\r\n\r\nimport './index.css';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\nregisterServiceWorker();\r\n"],"sourceRoot":""}
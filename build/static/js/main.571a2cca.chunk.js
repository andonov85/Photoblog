(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{232:function(e,t,a){e.exports=a(428)},426:function(e,t,a){},428:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(29),i=a.n(r),c=a(12),s=a(13),l=a(15),m=a(14),u=a(16),d=a(6),h=a(3),p=a(431),g=a(432),b=a(429),f=a(129),v=a(8),O=a(10),y=a.n(O),E=a(27),j=a.n(E),k=a(37),w=a.n(k),x=a(128),C=a.n(x),S=a(172),N=a.n(S),L=a(98),I=a.n(L),U=a(48),T=a.n(U),A=a(62),D=a.n(A);a(135);D.a.initializeApp({apiKey:"AIzaSyBksOWJ2QuRGZFx6-5-Ajbls0RAfUwmq7I",authDomain:"aaphotography-b504f.firebaseapp.com",databaseURL:"https://aaphotography-b504f.firebaseio.com",projectId:"aaphotography-b504f",storageBucket:"aaphotography-b504f.appspot.com",messagingSenderId:"815652919811"});D.a.firestore().settings({timestampsInSnapshots:!0});var R=a(76),F=a.n(R)()("B2F2ETSVIP","c9eb9f0c90e7bc419ee551b15652312e"),P="blog_posts";var B=a(25),W=a.n(B),z=a(28),G=a.n(z),M=a(91),K=a.n(M),V=a(94),_=a.n(V),H=a(93),X=a.n(H),q=a(92),J=a.n(q),Q=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={open:!1,title:"",content:"",avatarUrl:"",imageUrl:"",linkUrl:"",homepageUrl:"",date:D.a.firestore.Timestamp.now(),commentsCounter:0,likes:0},a.handleAddPost=a.handleAddPost.bind(Object(d.a)(Object(d.a)(a))),a.handleClickOpen=a.handleClickOpen.bind(Object(d.a)(Object(d.a)(a))),a.handleClose=a.handleClose.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"handleClickOpen",value:function(){this.setState({open:!0})}},{key:"handleClose",value:function(){this.setState({open:!1})}},{key:"handleAddPost",value:function(){var e=this.state,t={title:e.title,content:e.content,avatarUrl:e.avatarUrl,imageUrl:e.imageUrl,linkUrl:e.linkUrl,homepageUrl:e.homepageUrl,date:e.date,commentsCounter:e.commentsCounter};D.a.firestore().collection("blog").add(t).then(function(e){delete t.commentsCounter,delete t.likes,t.date=t.date.toDate().getTime(),t.objectID=e.id,function(e){F.initIndex(P).addObject(e,function(e,t){e&&console.log(e),console.log(t)})}(t)}),this.setState({open:!1})}},{key:"render",value:function(){var e=this,t=this.props.classes;return o.a.createElement("div",{className:t.root},o.a.createElement(W.a,{className:t.button,"aria-label":"Add post",onClick:this.handleClickOpen},o.a.createElement("i",{className:"material-icons"},"library_add")),o.a.createElement(K.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},o.a.createElement(J.a,{id:"form-dialog-title"},"Article:"),o.a.createElement(X.a,null,o.a.createElement(G.a,{autoFocus:!0,margin:"dense",id:"name",label:"title",type:"string",fullWidth:!0,onChange:function(t){return e.setState({title:t.target.value})}}),o.a.createElement(G.a,{margin:"dense",id:"name",label:"content",type:"string",fullWidth:!0,onChange:function(t){return e.setState({content:t.target.value})}}),o.a.createElement(G.a,{margin:"dense",id:"name",label:"avatarUrl",type:"url",fullWidth:!0,onChange:function(t){return e.setState({avatarUrl:t.target.value})}}),o.a.createElement(G.a,{margin:"dense",id:"name",label:"imageUrl",type:"url",fullWidth:!0,onChange:function(t){return e.setState({imageUrl:t.target.value})}}),o.a.createElement(G.a,{margin:"dense",id:"name",label:"linkUrl",type:"url",fullWidth:!0,onChange:function(t){return e.setState({linkUrl:t.target.value})}}),o.a.createElement(G.a,{margin:"dense",id:"name",label:"homepageUrl",type:"url",fullWidth:!0,onChange:function(t){return e.setState({homepageUrl:t.target.value})}})),o.a.createElement(_.a,null,o.a.createElement(W.a,{onClick:this.handleClose,color:"primary"},"Cancel"),o.a.createElement(W.a,{onClick:this.handleAddPost,color:"primary"},"Publish"))))}}]),t}(o.a.Component),Z=Object(v.withStyles)(function(e){return{button:{margin:e.spacing.unit,color:"grey"},userName:{display:"inline"}}})(Q),$=a(57),Y=a.n($),ee=a(58),te=a.n(ee),ae=a(23),ne=a.n(ae),oe=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={anchorEl:null},a.handleMenu=function(e){a.setState({anchorEl:e.currentTarget})},a.handleClose=function(){a.setState({anchorEl:null})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes;return o.a.createElement("div",{className:e.root},o.a.createElement(Y.a,{position:"static",className:e.appbar},o.a.createElement(te.a,null,o.a.createElement(ne.a,{variant:"h4",align:"center",className:e.logo},"AA Photography"),o.a.createElement(At.Consumer,null,function(t){return t&&"admin"===t.role?o.a.createElement("div",{className:e.adminTools},o.a.createElement(Z,null)):null}),this.props.children)))}}]),t}(o.a.Component),re=I()(Object(v.withStyles)(function(e){var t,a;return{root:{flexGrow:1},appbar:{boxShadow:"none",backgroundColor:"white",borderBottom:"1px #dbdbdb solid"},logo:(t={},Object(h.a)(t,e.breakpoints.down("xs"),{textAlign:"left",fontSize:20}),Object(h.a)(t,"flexGrow",1),Object(h.a)(t,"fontFamily","Abril Fatface, cursive"),Object(h.a)(t,"color","grey"),t),adminTools:(a={},Object(h.a)(a,e.breakpoints.down("xs"),{marginLeft:"62.5%"}),Object(h.a)(a,"position","absolute"),Object(h.a)(a,"marginLeft","78%"),a)}}),T()())(oe),ie=a(7),ce=a.n(ie),se=a(430),le=a(433),me=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.to,n=e.location,r=e.buttonName;return o.a.createElement(b.a,{path:a,children:function(e){var i=e.match;return o.a.createElement(se.a,{type:"button",replace:i===n.pathname,to:a,style:{textDecoration:"none"}},o.a.createElement(W.a,{className:t.buttons},r))}})}}]),t}(o.a.Component),ue=Object(le.a)(me),de=Object(v.withStyles)(function(e){var t;return{buttons:(t={},Object(h.a)(t,e.breakpoints.down("xs"),{color:"white"}),Object(h.a)(t,"fontSize",15),Object(h.a)(t,"color","grey"),Object(h.a)(t,"fontFamily","Pompiere, cursive"),Object(h.a)(t,"transition","transform .3s ease-in-out"),Object(h.a)(t,"&:hover",{backgroundColor:"rgb(242, 242, 242, 0)",transform:"scale(1.5)"}),t)}})(ue),he=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).rootEl=o.a.createRef(),a.barEl=o.a.createRef(),a.initialPosition={},a.state={isFixed:!1},a.handleScroll=a.handleScroll.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"handleScroll",value:function(){var e=this.rootEl.current,t=this.barEl.current,a=e.getBoundingClientRect(),n=t.classList.contains(this.props.classes.fixedOpen);!n&&a.bottom<=0?this.setState({isFixed:!0}):n&&a.bottom>=this.initialPosition.top&&this.setState({isFixed:!1})}},{key:"componentDidMount",value:function(){var e=this.rootEl.current;this.initialPosition=e.getBoundingClientRect(),window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){var e=this.props.classes,t=this.state.isFixed;return o.a.createElement("div",{className:e.root,ref:this.rootEl},o.a.createElement("div",{className:ce()(e.fixed,Object(h.a)({},e.fixedOpen,t)),ref:this.barEl},o.a.createElement(Y.a,{position:"static",className:e.appbar},o.a.createElement(te.a,{className:e.toolbar},o.a.createElement(de,{to:"/main",buttonName:"Home"}),o.a.createElement(de,{to:"/blog",buttonName:"Blog"}),o.a.createElement(de,{to:"/gallery",buttonName:"Gallery"}),o.a.createElement(de,{to:"/about",buttonName:"About"})))))}}]),t}(o.a.Component),pe=I()(Object(v.withStyles)(function(e){return{root:{height:45},fixed:{top:-45},fixedOpen:{position:"fixed",width:"100%",opacity:.7,zIndex:1,"&:hover":{opacity:1},transition:"all .4s ease-in-out",top:0},appbar:{boxShadow:"none",backgroundColor:"white"},toolbar:{marginLeft:"auto",marginRight:"auto",minHeight:45,height:45,padding:0}}}),T()())(he),ge=a(95),be=a.n(ge),fe=a(75),ve=a.n(fe),Oe=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={top:!1},a.toggleDrawer=function(e,t){return function(){a.setState(Object(h.a)({},e,t))}},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=o.a.createElement(ve.a,{className:e.fullList},o.a.createElement(de,{to:"/main",buttonName:"Home"}),o.a.createElement(de,{to:"/blog",buttonName:"Blog"}),o.a.createElement(de,{to:"/gallery",buttonName:"Gallery"}),o.a.createElement(de,{to:"/about",buttonName:"About"}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(W.a,{className:e.menuButton,onClick:this.toggleDrawer("top",!0)},o.a.createElement("i",{className:"material-icons",style:{color:"grey"}},"menu")),o.a.createElement(be.a,{anchor:"top",open:this.state.top,onClose:this.toggleDrawer("top",!1)},o.a.createElement("div",{tabIndex:0,role:"button",onClick:this.toggleDrawer("top",!1),onKeyDown:this.toggleDrawer("top",!1)},t)))}}]),t}(o.a.Component),ye=Object(v.withStyles)({fullList:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minWidth:200,backgroundColor:"grey"},menuButton:{minWidth:60}})(Oe),Ee=a(26),je=a.n(Ee),ke=a(34),we=a.n(ke),xe=a(96),Ce=a.n(xe);var Se=function(){return new Promise(function(e,t){var a=[];D.a.firestore().collection("images").get().then(function(n){n.empty&&t("Firestore: Snapshot is empty"),n.forEach(function(e){var t=e.data();a.push({id:t.id,name:t.name,url:t.url,thumbUrl:t.thumbUrl,category:t.category,description:t.description})}),e(a)})})},Ne=function(e){var t=!1;return{promise:new Promise(function(a,n){e.then(function(e){return t?n({isCanceled:!0}):a(e)},function(e){return n(t?{isCanceled:!0}:e)})}),cancel:function(){t=!0}}},Le=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).fetchImages=Ne(Se()),a.state={imageUrl:"",showImage:!1,loading:!0},a.handleOnLoad=a.handleOnLoad.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"handleOnLoad",value:function(){this.setState({showImage:!0,loading:!1})}},{key:"componentDidMount",value:function(){var e=this;this.fetchImages.promise.then(function(t){var a=t[Math.floor(Math.random()*t.length)];e.setState({imageUrl:a.url})}).catch(function(e){return console.log("isCanceled",e.isCanceled)})}},{key:"componentWillUnmount",value:function(){this.fetchImages.cancel()}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.imageUrl,n=t.showImage,r=t.loading;return o.a.createElement("div",null,r?o.a.createElement(je.a,{className:ce()(e.root,e.paper)},o.a.createElement(Ce.a,null)):null,o.a.createElement(we.a,{in:n,timeout:{enter:2e3,exit:0}},o.a.createElement(je.a,{className:e.paper,style:{backgroundImage:"url(".concat(a,")")}},o.a.createElement("img",{src:a,alt:"Flowers",onLoad:this.handleOnLoad,style:{display:"none"}}))))}}]),t}(o.a.Component),Ie=Object(v.withStyles)(function(e){var t;return{root:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},paper:(t={},Object(h.a)(t,e.breakpoints.down("sm"),{height:"calc(100vh - 45px)"}),Object(h.a)(t,"width","100%"),Object(h.a)(t,"height","calc(100vh - 85px)"),Object(h.a)(t,"backgroundPosition","center"),Object(h.a)(t,"backgroundRepeat","no-repeat"),Object(h.a)(t,"backgroundSize","cover"),Object(h.a)(t,"color","grey"),Object(h.a)(t,"boxShadow","none"),Object(h.a)(t,"borderRadius","0px"),t)}})(Le);var Ue=Object(v.withStyles)(function(e){return{root:{flexGrow:1}}})(function(e){var t=e.classes;return o.a.createElement("div",{className:t.root},o.a.createElement(y.a,{container:!0,spacing:0,justify:"center"},o.a.createElement(y.a,{item:!0,xs:12},o.a.createElement(Ie,null))))}),Te=a(41),Ae=a(36),De=a.n(Ae);var Re=Object(v.withStyles)(function(e){return{root:{display:"flex",justifyContent:"center",height:"75vh"},paper:{width:500,height:"100%",marginTop:"2%",backgroundColor:"#ebfaf9",padding:30},bigAvatar:{width:100,height:100}}})(function(e){var t=e.classes;return o.a.createElement(we.a,{in:!0,timeout:{enter:400,exit:0}},o.a.createElement("div",{className:t.root},o.a.createElement(je.a,{className:t.paper},o.a.createElement(Te.a,{variant:"h6",align:"center"},"Hello :) Under construction yet"),o.a.createElement(De.a,{timeout:500,direction:"down",in:!0,mountOnEnter:!0,unmountOnExit:!0},o.a.createElement(j.a,{src:"https://lh6.googleusercontent.com/-wM6v0CfGZuc/AAAAAAAAAAI/AAAAAAAADeE/jK_FHbyfNdE/s96-c/photo.jpg","aria-label":"Avatar",className:t.bigAvatar})))))}),Fe=a(74),Pe=a.n(Fe),Be=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).fetchImageCategories=Ne(new Promise(function(e,t){D.a.firestore().collection("images").doc("categories").get().then(function(a){a.exists||t("Doc doesn't exist"),e(a.data().categories)})})),a.state={categoriesData:[],checked:!1,fade:!1},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.fetchImageCategories.promise.then(function(t){e.setState({categoriesData:t,checked:!0,fade:!0})}).catch(function(e){return console.log("isCanceled",e.isCanceled)})}},{key:"componentWillUnmount",value:function(){this.fetchImageCategories.cancel()}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.checked,n=t.fade;return o.a.createElement(De.a,{timeout:500,direction:"up",in:n,mountOnEnter:!0,unmountOnExit:!0},o.a.createElement("div",{className:e.root},o.a.createElement(we.a,{in:n,timeout:{enter:400,exit:0}},o.a.createElement(je.a,{className:e.paper},o.a.createElement(y.a,{container:!0,spacing:8,className:e.categoriesContainer},this.state.categoriesData.map(function(t,n){return o.a.createElement(Pe.a,Object.assign({key:t.category.toLowerCase(),in:a,style:{transformOrigin:"0 0 0"}},a?{timeout:500*(n+1)}:{}),o.a.createElement(se.a,{to:"/category/".concat(t.category.toLowerCase()),style:{textDecoration:"none"}},o.a.createElement(Te.a,{className:e.links,variant:"h4",align:"center"},t.category)))}))))))}}]),t}(o.a.Component),We=Object(v.withStyles)(function(e){var t,a;return{root:{backgroundColor:"white",display:"flex",alignItems:"center",justifyContent:"center",padding:"1%"},paper:(t={width:450,padding:"4% 0% 4% 0%",marginTop:"2%"},Object(h.a)(t,e.breakpoints.down("sm"),{width:"65%",marginTop:"5%",padding:"7% 0% 3% 0%",borderRadius:"20px"}),Object(h.a)(t,e.breakpoints.down("xs"),{width:"100%",marginTop:"5%",padding:"7% 0% 3% 0%",borderRadius:"20px"}),Object(h.a)(t,"backgroundColor","white"),Object(h.a)(t,"border","1px #dbdbdb solid"),Object(h.a)(t,"borderRadius","30px"),Object(h.a)(t,"boxShadow","none"),t),categoriesContainer:{flexDirection:"column"},links:(a={marginBottom:"1.5em"},Object(h.a)(a,e.breakpoints.down("sm"),{marginBottom:"1.1em"}),Object(h.a)(a,e.breakpoints.down("xs"),{marginBottom:".7em"}),Object(h.a)(a,"&:hover",{color:"black"}),Object(h.a)(a,"fontFamily","Fredericka the Great, cursive"),Object(h.a)(a,"fontSize",26),a)}})(Be),ze=a(44),Ge=a.n(ze),Me=a(35),Ke=a.n(Me),Ve=a(59),_e=a.n(Ve);var He=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).handleClose=function(){a.setState({openModal:!1})},a.fetchImages=Ne(new Promise(function(e,t){var n=a.props.match.params.category;D.a.firestore().collection("images").where("category","==",n).get().then(function(a){a.empty&&t("There are no documents in the query snapshot");var n=[];a.forEach(function(e){var t=e.data(),a=t.id,o=t.name,r=t.url,i=t.thumbUrl,c=t.category,s=t.description;n.push({id:a,name:o,url:r,thumbUrl:i,category:c,description:s})}),e(n)})})),a.touchStart=0,a.state={images:[],index:0,openModal:!1,clientX:0,showImage:!0},a.handleOpen=a.handleOpen.bind(Object(d.a)(Object(d.a)(a))),a.handleClose=a.handleClose.bind(Object(d.a)(Object(d.a)(a))),a.handleLeft=a.handleLeft.bind(Object(d.a)(Object(d.a)(a))),a.handleRight=a.handleRight.bind(Object(d.a)(Object(d.a)(a))),a.handleKeyDown=a.handleKeyDown.bind(Object(d.a)(Object(d.a)(a))),a.handleOnTouchStart=a.handleOnTouchStart.bind(Object(d.a)(Object(d.a)(a))),a.handleOnTouchEnd=a.handleOnTouchEnd.bind(Object(d.a)(Object(d.a)(a))),a.handleOnTouchMove=a.handleOnTouchMove.bind(Object(d.a)(Object(d.a)(a))),a.handleOnLoad=a.handleOnLoad.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"handleOnLoad",value:function(){this.setState({clientX:0,showImage:!0})}},{key:"handleOnTouchStart",value:function(e){this.touchStart=e.targetTouches[0].clientX}},{key:"handleOnTouchMove",value:function(e){var t=e.targetTouches[0].clientX-this.touchStart;this.setState({clientX:t})}},{key:"handleOnTouchEnd",value:function(e){var t=e.changedTouches[0].clientX;t>this.touchStart+20?this.handleLeft():t<this.touchStart-20&&this.handleRight()}},{key:"handleKeyDown",value:function(e){"ArrowLeft"===e.key?this.handleLeft():"ArrowRight"===e.key&&this.handleRight()}},{key:"handleLeft",value:function(){this.state.index-1<0||this.setState({index:this.state.index-1,showImage:!1})}},{key:"handleRight",value:function(){this.state.index+1>this.state.images.length-1||this.setState({index:this.state.index+1,showImage:!1})}},{key:"handleOpen",value:function(e){var t=Number(e.target.dataset.index);this.setState({openModal:!0,index:t})}},{key:"componentDidMount",value:function(){var e=this;this.fetchImages.promise.then(function(t){e.setState({images:t})}).catch(function(e){return console.log("isCanceled",e.isCanceled)})}},{key:"componentDidUpdate",value:function(e){e.hasOwnProperty("match")&&e.match.params.category!==this.props.match.params.category&&this.setImageSource()}},{key:"componentWillUnmount",value:function(){this.fetchImages.cancel()}},{key:"render",value:function(){var e=this,t=this.state,a=t.images,n=t.index,r=t.openModal,i=t.clientX,c=t.showImage,s=this.props,l=s.classes,m=s.match;return o.a.createElement("div",{className:l.root},o.a.createElement(Te.a,{className:l.category,gutterBottom:!0,variant:"h4",align:"center"},m.params.category),o.a.createElement(y.a,{container:!0,spacing:0,justify:"center"},a.map(function(t,a){return o.a.createElement(y.a,{item:!0,xs:12,md:6,lg:4,key:t.id,className:l.gridItem},o.a.createElement(Ke.a,{className:l.card,about:t.category.toLowerCase()},o.a.createElement(_e.a,{className:l.media,image:t.thumbUrl,"data-index":a,title:t.name,onClick:e.handleOpen})))})),0!==a.length?o.a.createElement(Ge.a,{"aria-labelledby":m.params.category,"aria-describedby":"images",open:r,onKeyDown:this.handleKeyDown},o.a.createElement("div",{className:l.paper,style:{top:"".concat(0,"%"),left:"".concat(0,"%"),transform:"translate(-".concat(0,"%, -").concat(0,"%)")}},o.a.createElement(y.a,{container:!0,spacing:0},o.a.createElement(y.a,{item:!0,xs:12,md:2},o.a.createElement(w.a,{only:["sm"]},o.a.createElement(je.a,{className:l.caption},o.a.createElement(Te.a,{variant:"h5",color:"primary",paragraph:!0},"Kitty abyssinian mouser"),o.a.createElement(Te.a,{variant:"body1",color:"primary"},"Cat ipsum dolor sit amet, scottish fold. Kitty turkish angora so balinese . American shorthair savannah so tom or siberian yet birman yet persian ocelot. Burmese puma devonshire rex. Puma ocicat and american bobtail kitty yet lynx. Himalayan. Ocelot munchkin abyssinian . Bobcat ocelot. Lynx kitty malkin. Kitten puma havana brown.")))),o.a.createElement(y.a,{item:!0,xs:12,md:10},o.a.createElement(y.a,{container:!0,spacing:0,alignItems:"center"},o.a.createElement(y.a,{item:!0,xs:12},o.a.createElement(w.a,{only:["sm"]},o.a.createElement(W.a,{className:l.exitButton,color:"primary",onClick:this.handleClose},o.a.createElement(Te.a,{variant:"button",color:"primary",style:{fontSize:24}},"x")))),o.a.createElement(y.a,{item:!0,xs:12,md:1},o.a.createElement(w.a,{only:["xs","sm"]},o.a.createElement("div",{style:{float:"right"}},o.a.createElement(W.a,{color:"primary",onClick:this.handleLeft},o.a.createElement("i",{className:"material-icons",style:{color:"grey",fontSize:48,float:"right"}},"chevron_left"))))),o.a.createElement(y.a,{item:!0,xs:12,md:10},o.a.createElement("div",{className:l.imageContainer},o.a.createElement("img",{className:l.image,src:a[n].url,alt:a[n].name,onTouchStart:this.handleOnTouchStart,onTouchEnd:this.handleOnTouchEnd,onTouchMove:this.handleOnTouchMove,onLoad:this.handleOnLoad,style:c?{left:i,display:"inline-block"}:{left:i,display:"none"}}))),o.a.createElement(y.a,{item:!0,xs:12,md:1},o.a.createElement(w.a,{only:["xs","sm"]},o.a.createElement(W.a,{color:"primary",onClick:this.handleRight},o.a.createElement("i",{className:"material-icons",style:{color:"grey",fontSize:48}},"chevron_right")))),o.a.createElement(y.a,{item:!0,xs:12},o.a.createElement(w.a,{only:["sm"]},o.a.createElement(Te.a,{align:"center",color:"primary",style:{fontSize:16}},"".concat(n+1," / ").concat(a.length))))))))):null)}}]),t}(o.a.Component),Xe=Object(v.withStyles)(function(e){var t;return{root:Object(h.a)({paddingTop:30},e.breakpoints.down("sm"),{paddingTop:5}),gridItem:Object(h.a)({padding:"45px 0px 45px 0px"},e.breakpoints.down("sm"),{padding:8}),category:{marginTop:20,fontFamily:"Great Vibes, cursive",fontSize:56,textTransform:"capitalize"},card:{margin:"auto","&:hover":{opacity:.8},maxWidth:400,borderRadius:0},cardContent:{backgroundColor:"#f5f5f5"},media:{height:250},paper:{boxSizing:"border-box",position:"absolute",height:"100vh",width:"100vw",backgroundColor:"black"},imageContainer:(t={position:"relative",height:"86vh"},Object(h.a)(t,e.breakpoints.down("lg"),{height:"85vh"}),Object(h.a)(t,e.breakpoints.down("md"),{height:"70vh"}),Object(h.a)(t,e.breakpoints.down("sm"),{height:"100vh"}),Object(h.a)(t,e.breakpoints.down("xs"),{height:"45vh"}),t),image:{position:"absolute",margin:"auto",top:0,left:0,right:0,bottom:0,maxWidth:"100%",maxHeight:"100%"},caption:{backgroundColor:"black",margin:"4vw 0vw 1vw 1vw"},exitButton:{float:"right"}}})(He),qe=a(169),Je=a.n(qe),Qe=a(39),Ze=a.n(Qe),$e=a(40),Ye=a.n($e),et=a(60),tt=a.n(et),at=a(61),nt=a.n(at),ot=a(49),rt=a.n(ot),it=a(130),ct=a.n(it),st=a(171),lt=a.n(st),mt=a(45),ut=a.n(mt);function dt(e,t){var a=D.a.firestore();a.collection(e).add(t).then(function(e){var n=a.collection("blog").doc(t.postId);a.runTransaction(function(e){return e.get(n).then(function(t){var a=t.data().commentsCounter+1;e.update(n,{commentsCounter:a})})}).then(function(e){}).catch(function(e){console.log('Transaction "+1 comment" failure:',e)})}).catch(function(e){console.error("Error adding comment: ",e)})}var ht=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={commentField:""},a.publishComment=a.publishComment.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"publishComment",value:function(){var e=this.props,t=e.user,a=e.postId,n=this.state.commentField;if(""!==n){var o={postId:a,userId:t.googleId,userName:t.name,content:n,date:A.firestore.Timestamp.now(),imageUrl:t.imageUrl};this.setState({commentField:""}),dt("comments",o)}}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.user;return o.a.createElement("div",null,o.a.createElement(Ke.a,{className:a.card},o.a.createElement(Ze.a,{className:a.header,avatar:o.a.createElement(j.a,{alt:n.name,src:n.imageUrl,className:a.avatar}),title:n.name})),o.a.createElement(G.a,{className:a.textField,id:"outlined-multiline-static",label:"Write a comment:",fullWidth:!0,multiline:!0,rows:"4",margin:"normal",variant:"outlined",value:this.state.commentField,onChange:function(t){return e.setState({commentField:t.target.value})}}),o.a.createElement(W.a,{variant:"outlined",color:"primary",className:a.button,onClick:this.publishComment},"Publish"))}}]),t}(o.a.Component),pt=Object(v.withStyles)(function(e){return{avatar:{margin:10},card:{boxShadow:"none"},header:{padding:"0px 0px -5px 0px"},button:{margin:e.spacing.unit},textField:{marginTop:-5}}})(ht),gt=a(170),bt=a.n(gt),ft=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.subcomment;return o.a.createElement("div",{className:t.root},o.a.createElement(Ke.a,{className:t.card},o.a.createElement(Ze.a,{className:t.header,avatar:o.a.createElement(j.a,{alt:a.userName,src:a.imageUrl,className:t.avatar}),title:a.userName,subheader:a.date}),o.a.createElement(Ye.a,null,o.a.createElement(ne.a,{component:"p"},a.content))),o.a.createElement(ut.a,null))}}]),t}(o.a.Component),vt=Object(v.withStyles)(function(e){return{card:{borderRadius:"unset",boxShadow:"none"},header:{padding:0},avatar:{margin:10}}})(ft),Ot=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={commentField:"",commentsNumber:"",expanded:!1},a.handleExpandClick=a.handleExpandClick.bind(Object(d.a)(Object(d.a)(a))),a.sendSubcomment=a.sendSubcomment.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"handleExpandClick",value:function(){this.setState(function(e){return{expanded:!e.expanded}})}},{key:"sendSubcomment",value:function(){var e=this.props,t=e.comment,a=e.user,n=this.state.commentField;if(""!==n){var o={postId:t.postId,commentId:t.commentId,userId:a.googleId,userName:a.name,content:n,date:D.a.firestore.Timestamp.now(),imageUrl:a.imageUrl};this.setState({commentField:""}),dt("subcomments",o)}}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.comment,r=t.user,i=t.subcomments,c=this.state,s=c.commentsNumber,l=c.expanded;return o.a.createElement(Ke.a,{className:a.card},o.a.createElement(Ze.a,{avatar:o.a.createElement(j.a,{alt:n.userName,src:n.imageUrl,className:a.avatar}),title:n.userName,subheader:n.date,className:a.header}),o.a.createElement(Ye.a,null,o.a.createElement(ne.a,{component:"p"},n.content)),o.a.createElement(tt.a,{className:a.actions,disableActionSpacing:!0},o.a.createElement(ne.a,null,s),o.a.createElement(rt.a,{className:ce()(a.expand,Object(h.a)({},a.expandOpen,l)),onClick:this.handleExpandClick,"aria-expanded":l,"aria-label":"Show more"},o.a.createElement(bt.a,null))),o.a.createElement(ut.a,null),o.a.createElement(nt.a,{in:l,timeout:"auto",unmountOnExit:!0},o.a.createElement(Ye.a,null,o.a.createElement("div",{className:a.subcomments},i.filter(function(e){return e.commentId===n.commentId}).map(function(e){return o.a.createElement(vt,{key:e.subcommentId,subcomment:e})}),o.a.createElement(y.a,{container:!0,spacing:8,alignItems:"flex-end"},o.a.createElement(y.a,{item:!0},r?o.a.createElement(j.a,{alt:r.userName,src:r.imageUrl,className:a.avatar}):null),o.a.createElement(y.a,{item:!0},r?o.a.createElement("div",null,o.a.createElement(G.a,{id:"outlined-dense",label:"Write a response:",className:ce()(a.textField,a.dense),margin:"dense",variant:"outlined",value:this.state.commentField,onChange:function(t){return e.setState({commentField:t.target.value})}}),o.a.createElement(W.a,{variant:"outlined",color:"primary",className:a.button,onClick:this.sendSubcomment},"Answer")):o.a.createElement(ne.a,null,"Sign in to write a comment.")))))))}}]),t}(o.a.Component),yt=Object(v.withStyles)(function(e){return{card:{borderRadius:"unset",boxShadow:"none"},header:{padding:0},avatar:{margin:10},subcomments:{paddingLeft:50},actions:{display:"flex"},expand:Object(h.a)({transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),marginLeft:"auto"},e.breakpoints.up("sm"),{marginRight:-8}),expandOpen:{transform:"rotate(180deg)"},margin:{margin:e.spacing.unit},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit},dense:{marginTop:16},button:{margin:e.spacing.unit}}})(Ot),Et=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={comments:[],subcomments:[]},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.postId,a=D.a.firestore();this.unsubscribeComments=a.collection("comments").where("postId","==",t).orderBy("date","asc").onSnapshot(function(t){var a=[];t.forEach(function(e){var t=e.data(),n=t.content,o=t.postId,r=t.userId,i=t.date,c=t.userName,s=t.imageUrl;a.push({postId:o,commentId:e.id,content:n,date:i.toDate().toDateString()+"  "+i.toDate().toLocaleTimeString(),userId:r,userName:c,imageUrl:s})}),e.setState({comments:a})}),this.unsubscribeSubcomments=a.collection("subcomments").where("postId","==",t).orderBy("date","asc").onSnapshot(function(t){var a=[];t.forEach(function(e){var t=e.data(),n=t.content,o=t.postId,r=t.commentId,i=t.userId,c=t.date,s=t.userName,l=t.imageUrl;a.push({postId:o,commentId:r,subcommentId:e.id,content:n,date:c.toDate().toDateString()+"  "+c.toDate().toLocaleTimeString(),userId:i,userName:s,imageUrl:l})}),e.setState({subcomments:a})})}},{key:"componentWillUnmount",value:function(){this.unsubscribeComments(),this.unsubscribeSubcomments()}},{key:"render",value:function(){var e=this.state,t=e.comments,a=e.subcomments,n=this.props,r=n.classes,i=n.user;return o.a.createElement(je.a,{className:r.paper},t.map(function(e){return o.a.createElement(yt,{className:r.comments,key:e.commentId,comment:e,subcomments:a,user:i})}))}}]),t}(o.a.Component),jt=Object(v.withStyles)(function(e){return{paper:{borderRadius:"none",boxShadow:"none"}}})(Et),kt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).isLikeRecieved=!1,a.isLikePending=!1,a.isLiked=!1,a.state={commentsCounter:0,chat:!1,likes:0,changeLikeColor:!1,fade:!1},a.handleCommentClick=a.handleCommentClick.bind(Object(d.a)(Object(d.a)(a))),a.addToLiked=a.addToLiked.bind(Object(d.a)(Object(d.a)(a))),a.mediaOnLoad=a.mediaOnLoad.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=D.a.firestore();this.unsubscribeBlog=t.collection("blog").doc(this.props.postId).onSnapshot(function(t){if(t.exists){var a=t.data().commentsCounter,n=t.data().likes;e.setState({commentsCounter:a,likes:n})}else console.log("postId ".concat(e.props.postId," doesn't exists or can't retrieve it"))}),"object"===typeof this.props.user&&this.props.user.hasOwnProperty("userId")&&(this.unsubscribeUserLiked=t.collection("users").doc(this.props.user.userId).collection("userLiked").where("postId","==",this.props.postId).onSnapshot(function(t){1===t.docs.length&&e.setState(function(){return e.isLikeRecieved=!0,e.isLiked=t.docs[0].data().isLiked,{changeLikeColor:e.isLiked}})}))}},{key:"componentDidUpdate",value:function(e){var t=this,a=this.props.user;if(a!==e.user&&void 0!==a&&a.hasOwnProperty("userId")){var n=D.a.firestore();this.unsubscribeUserLiked=n.collection("users").doc(a.userId).collection("userLiked").where("postId","==",this.props.postId).onSnapshot(function(e){1===e.docs.length&&t.setState(function(){return t.isLikeRecieved=!0,t.isLiked=e.docs[0].data().isLiked,{changeLikeColor:t.isLiked}})})}else a!==e.user&&void 0===a&&(this.isLikeRecieved=!1,this.isLiked=!1,this.setState({changeLikeColor:!1}))}},{key:"componentWillUnmount",value:function(){this.unsubscribeBlog(),this.unsubscribeUserLiked&&this.unsubscribeUserLiked()}},{key:"addToLiked",value:function(){var e=this;if("object"===typeof this.props.user&&(this.props.user.hasOwnProperty("userId")||this.isLikeRecieved)&&!this.isLikePending){this.isLikePending=!this.isLikePending;var t=this.isLiked?-1:1;this.setState({changeLikeColor:!this.state.changeLikeColor,likes:this.state.likes+t});var a=D.a.firestore(),n=D.a.firestore().collection("blog").doc(this.props.postId);a.runTransaction(function(e){return e.get(n).then(function(a){var o=a.data().likes+t;e.update(n,{likes:o})})}).then(function(){var t=a.collection("users").doc(e.props.user.userId).collection("userLiked");t.where("postId","==",e.props.postId).get().then(function(a){0===a.docs.length?t.add({postId:e.props.postId,isLiked:!e.isLiked}).then(function(){e.isLikePending=!1}).catch(function(e){console.log('Adding "isLiked" doc failure: ',e)}):t.doc(a.docs[0].id).update({isLiked:!e.isLiked}).then(function(){e.isLikePending=!1}).catch(function(e){console.log('Updating "isLiked" doc failure: ',e)})})}).catch(function(e){console.log('Transaction "'.concat(t,' like" failure: '),e)})}}},{key:"handleCommentClick",value:function(){this.setState(function(e){return{chat:!e.chat}})}},{key:"mediaOnLoad",value:function(){this.setState({fade:!0})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.post,n=e.postId,r=e.user,i=this.state,c=i.commentsCounter,s=i.chat,l=i.changeLikeColor,m=i.likes,u=i.fade;return a.date=new Date(a.date).toDateString(),o.a.createElement(De.a,{timeout:500,direction:"right",in:!0,mountOnEnter:!0,unmountOnExit:!0},o.a.createElement(Ke.a,{className:t.card},o.a.createElement(Ze.a,{avatar:o.a.createElement(j.a,{src:a.avatarUrl,"aria-label":"Logo",className:ce()(t.avatar,t.bigAvatar)}),title:a.title,titleTypographyProps:{className:t.titleCard},subheader:a.date}),o.a.createElement("a",{type:"button",target:"_blank",rel:"noopener noreferrer",href:a.linkUrl},o.a.createElement(we.a,{in:u,timeout:{enter:400,exit:0}},o.a.createElement(_e.a,{className:t.media,image:a.imageUrl,title:a.title})),o.a.createElement("img",{src:a.imageUrl,alt:a.title,onLoad:this.mediaOnLoad,style:{display:"none"}})),o.a.createElement(Ye.a,null,o.a.createElement(ne.a,{className:t.content,component:"p",variant:"body1",gutterBottom:!0,align:"justify"},a.content),o.a.createElement(ne.a,{component:"p",align:"left",variant:"caption"},"Source:",o.a.createElement("a",{type:"text/html",target:"_blank",rel:"noopener noreferrer",href:a.homepageUrl},a.homepageUrl))),o.a.createElement(tt.a,{className:t.actions,disableActionSpacing:!0},o.a.createElement(rt.a,{"aria-label":"Add to favorites",onClick:this.addToLiked},l?o.a.createElement(ct.a,{className:t.favourite}):o.a.createElement(ct.a,{className:t.unfavourite}),o.a.createElement(ne.a,null,m)),o.a.createElement(rt.a,{onClick:this.handleCommentClick,"aria-expanded":s,"aria-label":"Comment"},o.a.createElement(lt.a,null),o.a.createElement(ne.a,null,c))),o.a.createElement(nt.a,{in:s,timeout:"auto",unmountOnExit:!0},o.a.createElement(ut.a,null),o.a.createElement(Ye.a,null,o.a.createElement(jt,{postId:n,user:r}),r?o.a.createElement(pt,{postId:n,user:r}):o.a.createElement(ne.a,null,"Sign in to write a comment.")))))}}]),t}(o.a.Component),wt=Object(v.withStyles)(function(e){return{card:{boxShadow:"none",borderBottom:"1px #dbdbdb solid",borderRadius:0},titleCard:{fontSize:"1.2rem",textTransform:"capitalize"},media:{paddingTop:"56.25%"},avatar:{margin:10},bigAvatar:{width:50,height:50},content:{display:"-webkit-box",overflow:"hidden",boxOrient:"vertical",textOverflow:"ellipsis",lineClamp:4},actions:{display:"flex"},expand:Object(h.a)({transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),marginLeft:"auto"},e.breakpoints.up("sm"),{marginRight:-8}),expandOpen:{transform:"rotate(180deg)"},favourite:{color:"#dc143c"},unfavourite:{color:"grey"}}})(kt),xt=R("B2F2ETSVIP","7d696398d27173e3b54bb74a08b7ee8a").initIndex("blog_posts");var Ct=function(e){return new Promise(function(t){xt.search({query:e,hitsPerPage:50},function(e,a){if(e)throw e;t(a)})})},St=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).AlgoliaResults=Ne(Ct("")),a.state={posts:[]},a.handleOnSearchChange=a.handleOnSearchChange.bind(Object(d.a)(Object(d.a)(a))),a.handleOnContentVisible=a.handleOnContentVisible.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"handleOnContentVisible",value:function(){}},{key:"handleOnSearchChange",value:function(e){var t=this,a=e.target.value;this.AlgoliaResults=Ne(Ct(a)),this.AlgoliaResults.promise.then(function(e){t.setState({posts:e.hits})})}},{key:"componentDidMount",value:function(){var e=this;this.AlgoliaResults.promise.then(function(t){e.setState({posts:t.hits})})}},{key:"componentWillUnmount",value:function(){this.AlgoliaResults.cancel()}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.posts;return o.a.createElement("div",{className:t.root},o.a.createElement(y.a,{container:!0,spacing:0,className:t.titleContainer},o.a.createElement(y.a,{item:!0,xs:12,md:2,className:t.articleContainer},o.a.createElement(ne.a,{variant:"h6",gutterBottom:!1,align:"left",className:t.articlesTitle},"LATEST ARTICLES"))),o.a.createElement(y.a,{container:!0,spacing:0,className:t.grid},o.a.createElement(y.a,{item:!0,sm:12,md:8},o.a.createElement("div",{className:t.posts},o.a.createElement(y.a,{container:!0,spacing:0},a.map(function(a){return o.a.createElement(y.a,{item:!0,xs:12,key:a.objectID},o.a.createElement(Je.a,{className:t.lazyLoad,offsetVertical:100,onContentVisible:e.handleOnContentVisible},o.a.createElement(At.Consumer,null,function(e){return o.a.createElement(wt,{postId:a.objectID,post:a,user:e})})))})))),o.a.createElement(y.a,{item:!0,sm:12,md:4},o.a.createElement(y.a,{container:!0,spacing:0,className:t.grid},o.a.createElement(y.a,{item:!0,sm:12,md:12},o.a.createElement(De.a,{timeout:500,direction:"left",in:!0,mountOnEnter:!0,unmountOnExit:!0},o.a.createElement(G.a,{className:t.textField,onChange:this.handleOnSearchChange,id:"outlined-search",label:"Search...",type:"search",margin:"normal",variant:"outlined"})))))))}}]),t}(o.a.Component),Nt=Object(v.withStyles)(function(e){var t,a,n,o;return{root:{flexGrow:1},grid:Object(h.a)({},e.breakpoints.down("sm"),{flexDirection:"column-reverse"}),titleContainer:{alignItems:"center"},textField:(t={},Object(h.a)(t,e.breakpoints.down("sm"),{marginLeft:4*e.spacing.unit}),Object(h.a)(t,e.breakpoints.down("xs"),{marginLeft:e.spacing.unit}),Object(h.a)(t,"marginLeft",e.spacing.unit),Object(h.a)(t,"marginRight",e.spacing.unit),t),articlesTitle:(a={},Object(h.a)(a,e.breakpoints.down("sm"),{padding:"25px 0px 0px 20px",fontSize:16}),Object(h.a)(a,"color","grey"),a),articleContainer:(n={marginLeft:"25%"},Object(h.a)(n,e.breakpoints.down("md"),{marginLeft:"13%"}),Object(h.a)(n,e.breakpoints.down("sm"),{marginLeft:"7%"}),Object(h.a)(n,e.breakpoints.down("xs"),{marginLeft:"0%"}),n),posts:(o={marginLeft:"30%"},Object(h.a)(o,e.breakpoints.down("lg"),{marginLeft:"25%"}),Object(h.a)(o,e.breakpoints.down("md"),{marginLeft:"15%"}),Object(h.a)(o,e.breakpoints.down("sm"),{margin:"5%"}),Object(h.a)(o,e.breakpoints.down("xs"),{margin:"0%"}),o),avatar:{margin:10},lazyLoad:Object(h.a)({display:"inline-block",position:"relative",height:600},e.breakpoints.down("sm"),{height:300})}})(St),Lt=a(97),It=a.n(Lt),Ut=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes;return o.a.createElement("div",{className:e.root},o.a.createElement(It.a,{in:!0,timeout:500},o.a.createElement(o.a.Fragment,null,o.a.createElement(ne.a,{paragraph:!0,align:"center",color:"primary"},o.a.createElement("i",{className:"material-icons",style:{fontSize:"6rem"}},"error_outline")),o.a.createElement(ne.a,{paragraph:!0,align:"center",color:"primary",style:{fontSize:"2rem"}},"Error404"))),o.a.createElement(ne.a,{paragraph:!0,align:"center",color:"primary",style:{fontSize:"1rem"}},"Page not found !"))}}]),t}(o.a.Component),Tt=Object(v.withStyles)(function(e){return{root:{flexGrow:1}}})(Ut),At=o.a.createContext(),Dt=Object(v.createMuiTheme)({palette:{primary:C.a,secondary:N.a},typography:{useNextVariants:!0,fontFamily:"Noto Sans, sans-serif"}}),Rt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).responseGoogle=function(e){(function(e){if("object"===typeof e&&e.hasOwnProperty("googleId")){var t={googleId:e.googleId,email:"none",imageUrl:e.imageUrl,name:e.name,familyName:e.familyName,givenName:e.givenName,role:""};return new Promise(function(e){var a=D.a.firestore().collection("users");a.where("googleId","==",t.googleId).get().then(function(n){if(n.empty)t.role="user",a.add(t).then(function(a){t.userId=a.id,e(t)}).catch(function(e){console.error("Error adding document: ",e)});else{var o=n.docs[0].id;a.doc(o).update({name:t.name,familyName:t.familyName,givenName:t.givenName,imageUrl:t.imageUrl}).then(function(){a.doc(o).get().then(function(t){var a=t.data();a.userId=t.id,e(a)})})}}).catch(function(e){console.log("Error getting document:",e)})})}})(e.profileObj).then(function(e){a.setState({user:e})})},a.logout=function(){a.setState({user:void 0})},a.state={user:void 0},a.responseGoogle=a.responseGoogle.bind(Object(d.a)(Object(d.a)(a))),a.logout=a.logout.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.user,t=this.props.classes;return o.a.createElement(v.MuiThemeProvider,{theme:Dt},o.a.createElement(p.a,null,o.a.createElement(At.Provider,{value:e},o.a.createElement(y.a,{container:!0,spacing:0,className:t.root},o.a.createElement(y.a,{item:!0,xs:10,sm:12},o.a.createElement(re,null,e?o.a.createElement(f.GoogleLogout,{className:t.GoogleLogout,tag:"div",buttonText:"",onLogoutSuccess:this.logout},o.a.createElement(j.a,{className:t.avatar,alt:e.userName,src:e.imageUrl})):o.a.createElement(f.GoogleLogin,{className:t.GoogleLogin,clientId:"815652919811-04teroae4aok8u52359jdr99fg4hdbk1.apps.googleusercontent.com",tag:"button",uxMode:"popup",buttonText:"Google login",onSuccess:this.responseGoogle,onFailure:function(){return console.log("Failure: Can't retrieve googleUser!")},isSignedIn:!0}))),o.a.createElement(y.a,{item:!0,xs:2,sm:12},o.a.createElement(w.a,{only:["xs"]},o.a.createElement(pe,null)),o.a.createElement(w.a,{only:["sm","md","lg","xl"]},o.a.createElement(ye,null))),o.a.createElement(y.a,{item:!0,xs:12},o.a.createElement(g.a,null,o.a.createElement(b.a,{exact:!0,path:"/",component:Ue}),o.a.createElement(b.a,{path:"/main",component:Ue}),o.a.createElement(b.a,{path:"/about",component:Re}),o.a.createElement(b.a,{path:"/gallery/",component:We}),o.a.createElement(b.a,{path:"/category/:category",component:Xe}),o.a.createElement(b.a,{path:"/blog",component:Nt}),o.a.createElement(b.a,{render:function(){return o.a.createElement(Tt,null)}}))),o.a.createElement(y.a,{item:!0,xs:12})))))}}]),t}(n.Component),Ft=Object(v.withStyles)(function(e){return{root:{flexGrow:1,alignItems:"center"},avatar:Object(h.a)({},e.breakpoints.down("sm"),{display:"inline-flex",width:30,height:30}),GoogleLogin:{position:"absolute",marginLeft:"81%",border:"white",backgroundColor:"white",color:"grey",height:32,width:60,borderRadius:10,fontSize:12,fontWeight:"bold","&:hover":{border:"1px #dbdbdb solid"}},GoogleLogout:{position:"absolute",marginLeft:"81%",fontSize:16}}})(Rt),Pt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Bt(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}a(426);i.a.render(o.a.createElement(Ft,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");Pt?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Bt(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):Bt(e)})}}()}},[[232,2,1]]]);
//# sourceMappingURL=main.571a2cca.chunk.js.map